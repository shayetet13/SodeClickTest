import{t as $s,c as Ms,r as i,j as e,S as Ds,a as We,R as Rs,I as _s,F as Es,L as rs,T as ls,C as is,b as Ls,O as ns,P as zs,d as os,e as Bs,X as oe,f as cs,D as ds,g as Os,h as Gs,i as ze,k as Us,l as Hs,m as le,n as ie,o as Pe,p as Be,V as Oe,G as Ne,Z as je,q as ms,s as xs,M as ge,u as Me,v as Ge,A as hs,w as Fe,x as xe,y as gs,z as fe,B as Ue,E as De,H as pe,J as qs,Q as Ke,K as ne,N as Vs,U as Ws,W as Qs,Y as Js,_ as us,$ as he,a0 as es,a1 as Ie,a2 as Ee,a3 as Le,a4 as Zs,a5 as ss,a6 as ve,a7 as Ys,a8 as Xs,a9 as Ks,aa as et,ab as st,ac as tt,ad as at,ae as rt,af as lt,ag as it,ah as nt,ai as ot,aj as ct,ak as dt,al as mt,am as xt,an as ht,ao as ue,ap as gt,aq as ut,ar as pt,as as ft,at as jt,au as bt,av as vt,aw as Nt,ax as yt,ay as wt,az as kt,aA as Ct,aB as ts,aC as St}from"./vendor-BIYVlVe0.js";import{m as Ae,a as E,f as Y,b as It,p as Tt,c as as,d as Te}from"./services-COBbJ5vz.js";function V(...t){return $s(Ms(t))}const Pt=We("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),k=i.forwardRef(({className:t,variant:a,size:r,asChild:N=!1,...w},R)=>{const I=N?Ds:"button";return e.jsx(I,{className:V(Pt({variant:a,size:r,className:t})),ref:R,...w})});k.displayName="Button";const Qe=i.forwardRef(({className:t,...a},r)=>e.jsx(Rs,{ref:r,className:V("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...a}));Qe.displayName="Avatar";const Je=i.forwardRef(({className:t,...a},r)=>e.jsx(_s,{ref:r,className:V("aspect-square h-full w-full",t),...a}));Je.displayName="AvatarImage";const Ze=i.forwardRef(({className:t,...a},r)=>e.jsx(Es,{ref:r,className:V("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...a}));Ze.displayName="AvatarFallback";const He=Ls,Re=i.forwardRef(({className:t,...a},r)=>e.jsx(rs,{ref:r,className:V("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a}));Re.displayName=rs.displayName;const te=i.forwardRef(({className:t,...a},r)=>e.jsx(ls,{ref:r,className:V("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...a}));te.displayName=ls.displayName;const ae=i.forwardRef(({className:t,...a},r)=>e.jsx(is,{ref:r,className:V("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a}));ae.displayName=is.displayName;const _e=Os,Ft=zs,ps=i.forwardRef(({className:t,...a},r)=>e.jsx(ns,{ref:r,className:V("fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a}));ps.displayName=ns.displayName;const ye=i.forwardRef(({className:t,children:a,...r},N)=>e.jsxs(Ft,{children:[e.jsx(ps,{}),e.jsxs(os,{ref:N,className:V("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-gray-200 bg-white p-6 shadow-xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[a,e.jsxs(Bs,{className:"absolute right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:ring-offset-2 disabled:pointer-events-none text-gray-400 hover:text-gray-600",children:[e.jsx(oe,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ye.displayName=os.displayName;const we=({className:t,...a})=>e.jsx("div",{className:V("flex flex-col space-y-1.5 text-center sm:text-left",t),...a});we.displayName="DialogHeader";const ke=i.forwardRef(({className:t,...a},r)=>e.jsx(cs,{ref:r,className:V("text-lg font-semibold leading-none tracking-tight",t),...a}));ke.displayName=cs.displayName;const Ce=i.forwardRef(({className:t,...a},r)=>e.jsx(ds,{ref:r,className:V("text-sm text-muted-foreground",t),...a}));Ce.displayName=ds.displayName;const Bt=Gs,fs=i.createContext(),Ye=()=>{const t=i.useContext(fs);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},Ot=({children:t})=>{const[a,r]=i.useState([]),N=i.useCallback((d,$,T=5e3)=>{const S=Date.now()+Math.random(),O={id:S,type:d,message:$,duration:T};return r(D=>[...D,O]),setTimeout(()=>{w(S)},T),S},[]),w=i.useCallback(d=>{r($=>$.filter(T=>T.id!==d))},[]),R=i.useCallback((d,$)=>N("success",d,$),[N]),I=i.useCallback((d,$)=>N("error",d,$),[N]),j=i.useCallback((d,$)=>N("warning",d,$),[N]),c=i.useCallback((d,$)=>N("info",d,$),[N]),h=()=>e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm",children:a.map(d=>e.jsx(At,{toast:d,onRemove:w},d.id))});return e.jsx(fs.Provider,{value:{success:R,error:I,warning:j,info:c,ToastContainer:h},children:t})},At=({toast:t,onRemove:a})=>{const{type:r,message:N,id:w}=t,R=()=>{const j="flex items-center p-4 rounded-lg shadow-lg border-l-4 transform transition-all duration-300 ease-in-out animate-slide-in";switch(r){case"success":return`${j} bg-gradient-to-r from-green-50 to-green-100 border-green-500 text-green-800`;case"error":return`${j} bg-gradient-to-r from-red-50 to-red-100 border-red-500 text-red-800`;case"warning":return`${j} bg-gradient-to-r from-yellow-50 to-yellow-100 border-yellow-500 text-yellow-800`;case"info":return`${j} bg-gradient-to-r from-blue-50 to-blue-100 border-blue-500 text-blue-800`;default:return`${j} bg-gradient-to-r from-gray-50 to-gray-100 border-gray-500 text-gray-800`}},I=()=>{const j="w-5 h-5 mr-3 flex-shrink-0";switch(r){case"success":return e.jsx(le,{className:`${j} text-green-600`});case"error":return e.jsx(Hs,{className:`${j} text-red-600`});case"warning":return e.jsx(Us,{className:`${j} text-yellow-600`});case"info":return e.jsx(ze,{className:`${j} text-blue-600`});default:return e.jsx(ze,{className:`${j} text-gray-600`})}};return e.jsxs("div",{className:R(),children:[I(),e.jsx("div",{className:"flex-1 text-sm font-medium",children:N}),e.jsx("button",{onClick:()=>a(w),className:"ml-3 p-1 rounded-full hover:bg-black/10 transition-colors duration-200",children:e.jsx(oe,{className:"w-4 h-4"})})]})},js=document.createElement("style");js.textContent=`
  @keyframes slide-in {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
  
  .animate-slide-in {
    animation: slide-in 0.3s ease-out;
  }
`;document.head.appendChild(js);const Gt=({userId:t})=>{const[a,r]=i.useState(null),[N,w]=i.useState(!0),[R,I]=i.useState({}),[j,c]=i.useState(null),[h,d]=i.useState(""),{success:$,error:T}=Ye(),S=i.useCallback(async()=>{if(!t){w(!1),c("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô");return}try{w(!0);const M=await Ae.getUserMembership(t);r(M.data.data),c(null)}catch(M){console.error("Error fetching membership data:",M),c(M.response?.data?.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÑ‡∏î‡πâ")}finally{w(!1)}},[t]),O=async()=>{try{I(B=>({...B,dailyBonus:!0}));const M=await Ae.claimDailyBonus(t);await S(),$(`‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÇ‡∏ö‡∏ô‡∏±‡∏™ ${M.data.data.bonusAmount} ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡πÅ‡∏•‡πâ‡∏ß!`)}catch(M){console.error("Error claiming daily bonus:",M),T(M.response?.data?.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡πÑ‡∏î‡πâ")}finally{I(M=>({...M,dailyBonus:!1}))}},D=async()=>{try{I(m=>({...m,spinWheel:!0}));const M=await Ae.spinWheel(t);await S();const B=M.data.data.prize;let o="";B.type==="coins"?o=`‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö ${B.amount} ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç! üéâ`:B.type==="votePoints"?o=`‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö ${B.amount} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÇ‡∏´‡∏ß‡∏ï! üéâ`:o=`‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö ${B.name}! üéâ`,$(o)}catch(M){console.error("Error spinning wheel:",M),T(M.response?.data?.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏´‡∏°‡∏∏‡∏ô‡∏ß‡∏á‡∏•‡πâ‡∏≠‡πÑ‡∏î‡πâ")}finally{I(M=>({...M,spinWheel:!1}))}};if(i.useEffect(()=>{if(!a?.membershipExpiry||a?.membershipTier==="member"){d(E.getTimeRemaining(a?.membershipExpiry,a?.membershipTier));return}const M=()=>{const o=E.getTimeRemainingDetailed(a.membershipExpiry,a.membershipTier);d(o.text),o.isExpired&&S()};M();const B=setInterval(M,1e3);return()=>clearInterval(B)},[a?.membershipExpiry,a?.membershipTier,S]),i.useEffect(()=>{S()},[t]),N)return e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(ie,{className:"h-8 w-8 animate-spin text-pink-500 mr-3"}),e.jsx("span",{className:"text-lg text-slate-600",children:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å..."})]});if(j)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 mb-4",children:j}),e.jsxs(k,{onClick:S,variant:"outline",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà"]})]});const{membershipTier:q,membershipExpiry:L,coins:X,votePoints:g,dailyUsage:u,limits:P,isActive:F}=a;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl bg-gradient-to-r ${E.getTierGradient(q)} flex items-center justify-center text-xl mr-4 shadow-lg`,children:E.getTierIcon(q)}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-slate-800",children:E.getTierName(q)}),(()=>{const M=new Date,B=L?new Date(L):null,o=B&&M>=B;return q==="member"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center text-slate-600",children:[e.jsx(Pe,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"font-mono",children:"‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏"})]}),e.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:["‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤: ",E.getMembershipDuration(q)]})]}):o?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center text-red-600",children:[e.jsx(Pe,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"font-mono font-semibold",children:"‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏•‡πâ‡∏ß"})]}),e.jsx("div",{className:"text-sm text-red-500 mt-1",children:"‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏•‡πâ‡∏ß - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô Member ‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center text-slate-600",children:[e.jsx(Pe,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"font-mono font-semibold",children:h||E.getTimeRemaining(L,q)})]}),e.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:["‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤: ",E.getMembershipDuration(q)]})]})})()]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${F?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:F?"‚úì ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ":"‚úó ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-4 border border-amber-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Be,{className:"h-5 w-5 text-amber-600 mr-2"}),e.jsx("span",{className:"text-slate-700 font-medium",children:"‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç"})]}),e.jsx("span",{className:"text-2xl font-bold text-amber-600",children:E.formatCoins(X)})]})}),e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4 border border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oe,{className:"h-5 w-5 text-purple-600 mr-2"}),e.jsx("span",{className:"text-slate-700 font-medium",children:"‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÇ‡∏´‡∏ß‡∏ï"})]}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:g.toLocaleString()})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(k,{onClick:O,disabled:R.dailyBonus||!a.canClaimDailyBonus,className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white",children:[R.dailyBonus?e.jsx(ie,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Ne,{className:"h-4 w-4 mr-2"}),a.canClaimDailyBonus?`‡∏£‡∏±‡∏ö‡πÇ‡∏ö‡∏ô‡∏±‡∏™ ${P.dailyBonus}`:"‡∏£‡∏≠ 24 ‡∏ä‡∏°."]}),e.jsxs(k,{onClick:D,disabled:R.spinWheel||!a.canSpinWheel,variant:"outline",className:"border-pink-200 text-pink-700 hover:bg-pink-50",children:[R.spinWheel?e.jsx(ie,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(je,{className:"h-4 w-4 mr-2"}),a.canSpinWheel?"‡∏´‡∏°‡∏∏‡∏ô‡∏ß‡∏á‡∏•‡πâ‡∏≠":"‡∏£‡∏≠ 24 ‡∏ä‡∏°."]})]}),(!a.canClaimDailyBonus||!a.canSpinWheel)&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:e.jsxs("div",{className:"flex items-center text-sm text-yellow-800",children:[e.jsx(ms,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:!a.canClaimDailyBonus&&!a.canSpinWheel?"‡∏£‡∏≠ 24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡πÅ‡∏•‡∏∞‡∏´‡∏°‡∏∏‡∏ô‡∏ß‡∏á‡∏•‡πâ‡∏≠‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á":a.canClaimDailyBonus?"‡∏£‡∏≠ 24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏°‡∏∏‡∏ô‡∏ß‡∏á‡∏•‡πâ‡∏≠‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á":"‡∏£‡∏≠ 24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á"})]})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg",children:[e.jsxs("h3",{className:"text-xl font-semibold text-slate-800 mb-4 flex items-center",children:[e.jsx(xs,{className:"h-5 w-5 mr-2 text-blue-500"}),"‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ge,{className:"h-4 w-4 text-blue-600 mr-2"}),e.jsx("span",{className:"text-slate-700 text-sm",children:"‡πÅ‡∏ä‡∏ó"})]}),e.jsx("span",{className:"text-xs text-slate-500",children:P.dailyChats===-1?"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î":`${u.chatCount}/${P.dailyChats}`})]}),e.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:P.dailyChats===-1?"0%":`${Math.min(u.chatCount/P.dailyChats*100,100)}%`}})})]}),e.jsxs("div",{className:"bg-green-50 rounded-xl p-4 border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Me,{className:"h-4 w-4 text-green-600 mr-2"}),e.jsx("span",{className:"text-slate-700 text-sm",children:"‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û"})]}),e.jsx("span",{className:"text-xs text-slate-500",children:P.dailyImages===-1?"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î":`${u.imageUploadCount}/${P.dailyImages}`})]}),e.jsx("div",{className:"w-full bg-green-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:P.dailyImages===-1?"0%":`${Math.min(u.imageUploadCount/P.dailyImages*100,100)}%`}})})]}),e.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ge,{className:"h-4 w-4 text-purple-600 mr-2"}),e.jsx("span",{className:"text-slate-700 text-sm",children:"‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠"})]}),e.jsx("span",{className:"text-xs text-slate-500",children:P.dailyVideos===-1?"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î":`${u.videoUploadCount}/${P.dailyVideos}`})]}),e.jsx("div",{className:"w-full bg-purple-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:P.dailyVideos===-1?"0%":`${Math.min(u.videoUploadCount/P.dailyVideos*100,100)}%`}})})]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg",children:[e.jsxs("h3",{className:"text-xl font-semibold text-slate-800 mb-4 flex items-center",children:[e.jsx(hs,{className:"h-5 w-5 mr-2 text-yellow-500"}),"‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl border border-blue-200",children:[e.jsx(ge,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),e.jsx("div",{className:"text-sm text-slate-700",children:"‡πÅ‡∏ä‡∏ó‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô"}),e.jsx("div",{className:"font-bold text-blue-600",children:P.dailyChats===-1?"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î":`${P.dailyChats} ‡∏Ñ‡∏ô`})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[e.jsx(Me,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),e.jsx("div",{className:"text-sm text-slate-700",children:"‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ"}),e.jsx("div",{className:"font-bold text-green-600",children:P.dailyImages===-1?"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î":`${P.dailyImages} ‡∏£‡∏π‡∏õ`})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-200",children:[e.jsx(Ge,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),e.jsx("div",{className:"text-sm text-slate-700",children:"‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠"}),e.jsx("div",{className:"font-bold text-purple-600",children:P.dailyVideos===-1?"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î":`${P.dailyVideos} ‡∏Ñ‡∏•‡∏¥‡∏õ`})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl border border-amber-200",children:[e.jsx(Ne,{className:"h-8 w-8 text-amber-600 mx-auto mb-2"}),e.jsx("div",{className:"text-sm text-slate-700",children:"‡∏´‡∏°‡∏∏‡∏ô‡∏ß‡∏á‡∏•‡πâ‡∏≠"}),e.jsx("div",{className:"font-bold text-amber-600",children:(()=>{const M=P.spinInterval;if(M===-1)return"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î";const B=Math.floor(M/(1e3*60*60)),o=Math.floor(M%(1e3*60*60)/(1e3*60));return B>0?o>0?`‡∏ó‡∏∏‡∏Å ${B} ‡∏ä‡∏° ${o} ‡∏ô‡∏≤‡∏ó‡∏µ`:`‡∏ó‡∏∏‡∏Å ${B} ‡∏ä‡∏°`:`‡∏ó‡∏∏‡∏Å ${o} ‡∏ô‡∏≤‡∏ó‡∏µ`})()})]})]})]})]})},$t=({plan:t,isCurrentTier:a=!1,onUpgrade:r,isLoading:N=!1})=>{const[w,R]=i.useState(!1),[I,j]=i.useState(!1),c=d=>d===-1?"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î":d.toLocaleString(),h=d=>d>=1440?`${d/1440} ‡∏ß‡∏±‡∏ô`:d>=60?`${d/60} ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á`:`${d} ‡∏ô‡∏≤‡∏ó‡∏µ`;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`group relative bg-white/95 backdrop-blur-xl rounded-2xl border transition-all duration-300 hover:shadow-xl hover:-translate-y-1 ${a?"border-pink-300 shadow-lg ring-2 ring-pink-200/30":t.tier==="diamond"?"border-amber-200 hover:border-amber-300 ring-2 ring-amber-100/50 shadow-amber-200/20":t.tier==="platinum"?"border-purple-200 hover:border-purple-300 ring-2 ring-purple-100/50 shadow-purple-200/20":t.tier==="gold"?"border-yellow-200 hover:border-yellow-300 ring-2 ring-yellow-100/50 shadow-yellow-200/20":"border-gray-200 hover:border-pink-200"} ${t.tier==="diamond"?"shadow-2xl shadow-amber-200/30":t.tier==="platinum"?"shadow-2xl shadow-purple-200/30":t.tier==="gold"?"shadow-2xl shadow-yellow-200/30":""} overflow-hidden h-[520px] flex flex-col`,children:[a&&e.jsx("div",{className:"absolute top-3 left-3 z-10",children:e.jsx("div",{className:"bg-green-500 text-white p-1.5 rounded-full shadow-lg",children:e.jsx(Fe,{className:"h-3 w-3"})})}),t.tier==="vip"&&e.jsx("div",{className:"absolute top-3 right-3 z-10",children:e.jsxs("div",{className:"bg-gradient-to-r from-pink-500 to-violet-500 text-white px-2 py-1 rounded-full text-xs font-medium shadow-lg flex items-center gap-1",children:[e.jsx(xe,{className:"h-3 w-3"}),"‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥"]})}),e.jsxs("div",{className:"text-center p-5 pb-3",children:[e.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br ${E.getTierGradient(t.tier)} flex items-center justify-center text-2xl shadow-lg`,children:E.getTierIcon(t.tier)}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:E.getTierName(t.tier)}),e.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-pink-600 to-violet-600 bg-clip-text text-transparent mb-2",children:E.formatPrice(t.price.amount,t.price.currency)}),e.jsx("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full inline-block",children:t.duration.description})]}),e.jsxs("div",{className:"px-5 flex-1 flex flex-col",children:[e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ge,{className:"h-4 w-4 mr-2 text-pink-500"}),e.jsx("span",{children:"Daily Chats"})]}),e.jsx("span",{className:"font-semibold text-pink-600",children:c(t.features.dailyChats)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Be,{className:"h-4 w-4 mr-2 text-yellow-500"}),e.jsx("span",{children:"Daily Bonus"})]}),e.jsx("span",{className:"font-semibold text-yellow-600",children:E.formatCoins(t.features.dailyBonus)})]}),t.features.bonusCoins>0&&e.jsxs("div",{className:"flex items-center justify-between text-sm bg-gradient-to-r from-amber-50 to-orange-50 p-2 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(xe,{className:"h-4 w-4 mr-2 text-amber-500"}),e.jsx("span",{className:"font-medium",children:"Instant Bonus"})]}),e.jsx("span",{className:"font-bold text-amber-600",children:E.formatCoins(t.features.bonusCoins)})]}),t.features.votePoints>0&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oe,{className:"h-4 w-4 mr-2 text-indigo-500"}),e.jsx("span",{children:"Vote Points"})]}),e.jsx("span",{className:"font-semibold text-indigo-600",children:t.features.votePoints.toLocaleString()})]})]}),e.jsx("div",{className:"mt-auto pt-3",children:e.jsxs(k,{variant:"ghost",size:"sm",onClick:()=>j(!0),className:"w-full text-xs text-gray-500 hover:text-pink-600 hover:bg-pink-50 transition-colors",children:[e.jsx(ze,{className:"h-3 w-3 mr-1"}),"View All Features"]})})]}),e.jsx("div",{className:"p-4 pt-3 mt-auto",children:a?e.jsxs(k,{disabled:!0,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white font-semibold py-3 rounded-xl shadow-lg",children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Current Plan"]}):e.jsx(k,{onClick:()=>r?.(t),disabled:N,className:`w-full bg-gradient-to-r ${E.getTierGradient(t.tier)} hover:shadow-lg hover:scale-105 transition-all duration-300 text-white font-semibold py-3 rounded-xl`,children:N?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Upgrading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"Upgrade Now"]})})})]}),e.jsx(_e,{open:I,onOpenChange:j,children:e.jsxs(ye,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(we,{children:[e.jsxs(ke,{className:"flex items-center text-2xl font-bold gradient-text",children:[e.jsx("div",{className:`w-8 h-8 mr-3 rounded-lg bg-gradient-to-br ${E.getTierGradient(t.tier)} flex items-center justify-center text-lg`,children:E.getTierIcon(t.tier)}),E.getTierName(t.tier)," Plan Details"]}),e.jsxs(Ce,{children:["Complete feature breakdown and benefits for the ",E.getTierName(t.tier)," membership plan"]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-pink-50 to-violet-50 rounded-xl",children:[e.jsx("div",{className:"text-3xl font-bold gradient-text mb-2",children:E.formatPrice(t.price.amount,t.price.currency)}),e.jsx("div",{className:"text-gray-600",children:t.duration.description})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(xs,{className:"h-5 w-5 mr-2 text-pink-500"}),"Daily Features"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-pink-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ge,{className:"h-5 w-5 mr-3 text-pink-500"}),e.jsx("span",{className:"font-medium",children:"Daily Chats"})]}),e.jsxs("span",{className:"font-bold text-pink-600",children:[c(t.features.dailyChats)," people"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Me,{className:"h-5 w-5 mr-3 text-blue-500"}),e.jsx("span",{className:"font-medium",children:"Image Uploads"})]}),e.jsxs("span",{className:"font-bold text-blue-600",children:[c(t.features.dailyImages)," images"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ge,{className:"h-5 w-5 mr-3 text-purple-500"}),e.jsx("span",{className:"font-medium",children:"Video Uploads"})]}),e.jsxs("span",{className:"font-bold text-purple-600",children:[c(t.features.dailyVideos)," videos"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ne,{className:"h-5 w-5 mr-3 text-green-500"}),e.jsx("span",{className:"font-medium",children:"Spin Wheel"})]}),e.jsxs("span",{className:"font-bold text-green-600",children:["Every ",h(t.features.spinInterval.minutes)]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Be,{className:"h-5 w-5 mr-3 text-yellow-500"}),e.jsx("span",{className:"font-medium",children:"Daily Bonus"})]}),e.jsxs("span",{className:"font-bold text-yellow-600",children:[E.formatCoins(t.features.dailyBonus)," coins"]})]})]})]}),(t.features.votePoints>0||t.features.bonusCoins>0)&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(xe,{className:"h-5 w-5 mr-2 text-yellow-500"}),"Bonus Features"]}),e.jsxs("div",{className:"space-y-3",children:[t.features.votePoints>0&&e.jsxs("div",{className:"flex items-center justify-between p-3 bg-indigo-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oe,{className:"h-5 w-5 mr-3 text-indigo-500"}),e.jsx("span",{className:"font-medium",children:"Vote Points"})]}),e.jsxs("span",{className:"font-bold text-indigo-600",children:[t.features.votePoints.toLocaleString()," points"]})]}),t.features.bonusCoins>0&&e.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-50 rounded-lg border border-amber-200",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(xe,{className:"h-5 w-5 mr-3 text-amber-500"}),e.jsx("span",{className:"font-medium",children:"üéÅ Instant Bonus"})]}),e.jsxs("span",{className:"font-bold text-amber-600 animate-pulse",children:[E.formatCoins(t.features.bonusCoins)," coins"]})]})]})]}),t.features.specialFeatures&&t.features.specialFeatures.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(gs,{className:"h-5 w-5 mr-2 text-green-500"}),"Special Features"]}),e.jsx("div",{className:"grid gap-3",children:t.features.specialFeatures.map((d,$)=>e.jsxs("div",{className:"flex items-start p-3 bg-green-50 rounded-lg",children:[e.jsx(Fe,{className:"h-5 w-5 text-green-600 mr-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:d.description})]},$))})]}),e.jsxs("div",{className:"flex gap-4 pt-4 border-t",children:[e.jsx(k,{variant:"outline",onClick:()=>j(!1),className:"flex-1",children:"Close"}),!a&&e.jsx(k,{onClick:()=>{j(!1),r?.(t)},disabled:N,className:`flex-1 bg-gradient-to-r ${E.getTierGradient(t.tier)} text-white font-semibold`,children:N?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Upgrading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"Upgrade Now"]})})]})]})]})})]})},Ut=({currentUserId:t,currentTier:a="member"})=>{const[r,N]=i.useState([]),[w,R]=i.useState(!0),[I,j]=i.useState(null),[c,h]=i.useState(null),{warning:d}=Ye(),$=async()=>{try{R(!0);const S=await Ae.getPlans();N(S.data.data),h(null)}catch(S){console.error("Error fetching membership plans:",S),h(S.response?.data?.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à‡πÑ‡∏î‡πâ")}finally{R(!1)}},T=async S=>{if(!t){d("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å");return}if(typeof window<"u"&&window.navigateToPayment)window.navigateToPayment(S);else{const O=new CustomEvent("navigateToPayment",{detail:{plan:S,userId:t}});window.dispatchEvent(O)}};return i.useEffect(()=>{$()},[]),w?e.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ie,{className:"h-12 w-12 animate-spin text-pink-500 mr-4"}),e.jsx("div",{className:"absolute inset-0 w-12 h-12 border-4 border-pink-200 rounded-full animate-pulse"})]}),e.jsxs("div",{className:"mt-6 text-center",children:[e.jsx("span",{className:"text-xl font-semibold gradient-text",children:"Loading Premium Plans..."}),e.jsx("div",{className:"flex items-center justify-center mt-2",children:e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-pink-400 to-violet-400 rounded-full flex items-center justify-center mr-3 heart-beat",children:e.jsx(fe,{className:"h-8 w-8 text-white"})})})]})]}):c?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 mb-4",children:c}),e.jsxs(k,{onClick:$,variant:"outline",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà"]})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center px-6 py-3 rounded-full glass-effect border border-white/30 text-pink-600 text-sm font-bold mb-8 shadow-lg",children:[e.jsx(fe,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å üëë"})]}),e.jsx("h1",{className:"text-5xl md:text-6xl font-bold gradient-text mb-6",children:"Upgrade to Premium"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Å‡∏≤‡∏£‡∏´‡∏≤‡∏Ñ‡∏π‡πà‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‚ú®"})]}),e.jsxs("div",{className:"relative overflow-hidden modern-card rounded-3xl p-8 text-center shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-500 via-rose-500 to-violet-500"}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-16 translate-x-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full translate-y-12 -translate-x-12"}),e.jsxs("div",{className:"relative z-10 text-white",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(xe,{className:"h-8 w-8 mr-3 animate-pulse"}),e.jsx("span",{className:"text-2xl font-bold",children:"Most Popular Plans üî•"})]}),e.jsx("p",{className:"text-pink-100 mb-6 text-lg",children:"Gold & VIP Members get the best dating experience with premium features!"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[e.jsxs("div",{className:"glass-effect rounded-xl px-4 py-2 text-sm font-semibold",children:[e.jsx(xe,{className:"inline h-4 w-4 mr-1"}),"Full Features"]}),e.jsx("div",{className:"glass-effect rounded-xl px-4 py-2 text-sm font-semibold",children:"üéÅ Bonus Rewards"}),e.jsx("div",{className:"glass-effect rounded-xl px-4 py-2 text-sm font-semibold",children:"üëë VIP Status"}),e.jsx("div",{className:"glass-effect rounded-xl px-4 py-2 text-sm font-semibold",children:"üíé Premium Support"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(S=>e.jsx($t,{plan:S,isCurrentTier:S.tier===a,onUpgrade:T,isLoading:I===S.tier},S.tier))}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 border border-white/20 shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-semibold text-slate-800 mb-6 text-center",children:"‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[800px]",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-200",children:[e.jsx("th",{className:"text-left py-3 px-4 text-slate-700 font-medium",children:"‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå"}),e.jsx("th",{className:"text-center py-3 px-4 text-slate-600",children:"Member"}),e.jsx("th",{className:"text-center py-3 px-4 text-slate-600",children:"Silver"}),e.jsx("th",{className:"text-center py-3 px-4 text-yellow-600",children:"Gold"}),e.jsx("th",{className:"text-center py-3 px-4 text-purple-600",children:"VIP"}),e.jsx("th",{className:"text-center py-3 px-4 text-cyan-600",children:"Diamond"}),e.jsx("th",{className:"text-center py-3 px-4 text-indigo-600",children:"Platinum"})]})}),e.jsxs("tbody",{className:"text-sm",children:[e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"py-3 px-4 font-medium",children:"‡πÅ‡∏ä‡∏ó‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô"}),e.jsx("td",{className:"text-center py-3 px-4",children:"10 ‡∏Ñ‡∏ô"}),e.jsx("td",{className:"text-center py-3 px-4",children:"30 ‡∏Ñ‡∏ô"}),e.jsx("td",{className:"text-center py-3 px-4",children:"60 ‡∏Ñ‡∏ô"}),e.jsx("td",{className:"text-center py-3 px-4",children:"120 ‡∏Ñ‡∏ô"}),e.jsx("td",{className:"text-center py-3 px-4",children:"500 ‡∏Ñ‡∏ô"}),e.jsx("td",{className:"text-center py-3 px-4 text-green-600 font-medium",children:"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î"})]}),e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"py-3 px-4 font-medium",children:"‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ"}),e.jsx("td",{className:"text-center py-3 px-4",children:"3 ‡∏£‡∏π‡∏õ"}),e.jsx("td",{className:"text-center py-3 px-4",children:"30 ‡∏£‡∏π‡∏õ"}),e.jsx("td",{className:"text-center py-3 px-4",children:"50 ‡∏£‡∏π‡∏õ"}),e.jsx("td",{className:"text-center py-3 px-4",children:"100 ‡∏£‡∏π‡∏õ"}),e.jsx("td",{className:"text-center py-3 px-4 text-green-600 font-medium",children:"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î"}),e.jsx("td",{className:"text-center py-3 px-4 text-green-600 font-medium",children:"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î"})]}),e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"py-3 px-4 font-medium",children:"‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô"}),e.jsx("td",{className:"text-center py-3 px-4",children:"500 ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç"}),e.jsx("td",{className:"text-center py-3 px-4",children:"1,000 ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç"}),e.jsx("td",{className:"text-center py-3 px-4",children:"3,000 ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç"}),e.jsx("td",{className:"text-center py-3 px-4",children:"8,000 ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç"}),e.jsx("td",{className:"text-center py-3 px-4",children:"50,000 ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç"}),e.jsx("td",{className:"text-center py-3 px-4 text-amber-600 font-bold",children:"100,000 ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç"})]}),e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"py-3 px-4 font-medium",children:"‡∏ï‡∏¥‡πä‡∏Å‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô"}),e.jsx("td",{className:"text-center py-3 px-4",children:"‚ùå"}),e.jsx("td",{className:"text-center py-3 px-4",children:"‚ùå"}),e.jsx("td",{className:"text-center py-3 px-4 text-green-600",children:"‚úÖ"}),e.jsx("td",{className:"text-center py-3 px-4 text-green-600",children:"‚úÖ"}),e.jsx("td",{className:"text-center py-3 px-4 text-green-600",children:"‚úÖ"}),e.jsx("td",{className:"text-center py-3 px-4 text-green-600",children:"‚úÖ"})]}),e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("td",{className:"py-3 px-4 font-medium",children:"‡πÇ‡∏≠‡∏ô‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç"}),e.jsx("td",{className:"text-center py-3 px-4",children:"‚ùå"}),e.jsx("td",{className:"text-center py-3 px-4",children:"‚ùå"}),e.jsx("td",{className:"text-center py-3 px-4",children:"‚ùå"}),e.jsx("td",{className:"text-center py-3 px-4",children:"‚ùå"}),e.jsx("td",{className:"text-center py-3 px-4 text-green-600",children:"‚úÖ"}),e.jsx("td",{className:"text-center py-3 px-4 text-green-600",children:"‚úÖ"})]})]})]})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 border border-white/20 shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-semibold text-slate-800 mb-6 text-center",children:"‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-l-4 border-pink-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-slate-800 mb-2",children:"‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì"})]}),e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-slate-800 mb-2",children:"‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÑ‡∏î‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏à‡∏∞‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏≠‡∏≤‡∏¢‡∏∏‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÑ‡∏î‡πâ‡∏à‡∏ô‡∏ñ‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏"})]}),e.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[e.jsx("h3",{className:"font-semibold text-slate-800 mb-2",children:"‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÇ‡∏´‡∏ß‡∏ï‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?"}),e.jsx("p",{className:"text-slate-600 text-sm",children:"‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÇ‡∏´‡∏ß‡∏ï‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ï‡∏•‡∏≠‡∏î‡πÅ‡∏°‡πâ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏à‡∏∞‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏•‡πâ‡∏ß"})]})]})]})]})},ee=i.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,className:V("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a}));ee.displayName="Card";const qe=i.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,className:V("flex flex-col space-y-1.5 p-6",t),...a}));qe.displayName="CardHeader";const Ve=i.forwardRef(({className:t,...a},r)=>e.jsx("h3",{ref:r,className:V("text-2xl font-semibold leading-none tracking-tight",t),...a}));Ve.displayName="CardTitle";const Mt=i.forwardRef(({className:t,...a},r)=>e.jsx("p",{ref:r,className:V("text-sm text-muted-foreground",t),...a}));Mt.displayName="CardDescription";const ce=i.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,className:V("p-6 pt-0",t),...a}));ce.displayName="CardContent";const Dt=i.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,className:V("flex items-center p-6 pt-0",t),...a}));Dt.displayName="CardFooter";const bs=i.createContext(),Rt=()=>{const t=i.useContext(bs);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Ht=({children:t})=>{const[a,r]=i.useState(null),[N,w]=i.useState(!0);i.useEffect(()=>{const c=sessionStorage.getItem("token"),h=sessionStorage.getItem("user");if(c&&h)try{const d=JSON.parse(h);r(d)}catch(d){console.error("Error parsing user data:",d),sessionStorage.removeItem("token"),sessionStorage.removeItem("user")}w(!1)},[]);const j={user:a,login:c=>{r(c.user||c),sessionStorage.setItem("token",c.token||c.data?.token),sessionStorage.setItem("user",JSON.stringify(c.user||c))},logout:()=>{r(null),sessionStorage.removeItem("token"),sessionStorage.removeItem("user")},loading:N};return e.jsx(bs.Provider,{value:j,children:t})},qt=({plan:t,onBack:a,onSuccess:r,onCancel:N})=>{const{user:w}=Rt(),[R,I]=i.useState(!1),[j,c]=i.useState(null),[h,d]=i.useState("pending"),[$,T]=i.useState(9e5),[S,O]=i.useState(null),[D,q]=i.useState(null),[L,X]=i.useState("production"),[g,u]=i.useState(!1);i.useEffect(()=>{if(j&&$>0){const f=setInterval(()=>{T(A=>A<=1e3?(d("expired"),0):A-1e3)},1e3);return()=>clearInterval(f)}},[j,$]),i.useEffect(()=>{j&&(h==="G"||h==="A")&&Y.pollPaymentStatus(j.referenceNo,f=>{d(f)},f=>{d("S"),r&&r(f)},f=>{console.error(f)})},[j,h,r]),i.useEffect(()=>{j||P()},[]);const P=async()=>{Y.debugLog("=== Starting QR Code Generation ===","info"),I(!0);try{const f={amount:t.price.amount,description:`‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î‡πÄ‡∏õ‡πá‡∏ô ${t.name} - ${t.tier}`,customerName:w?.displayName||"Customer",customerEmail:w?.email||"customer@example.com",referenceNo:Y.generateReferenceId(),detail:`‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î‡πÄ‡∏õ‡πá‡∏ô ${t.name} - ${t.tier}`,timestamp:new Date().toISOString(),currency:"THB"};Y.debugLog("Payment data prepared:","info",f);let A;try{Y.debugLog("Trying direct API call...","info"),A=await Y.createQRCodeDirect(f,L),Y.debugLog("Direct API call successful","success")}catch{Y.debugLog("Direct API failed, using backend proxy","warning");const de={plan:t,userInfo:{userId:w?._id||w?.id||"user123",name:f.customerName,email:f.customerEmail,phone:"0800000000",address:"Bangkok, Thailand"}};A=await It.createPayment(de)}const H={...f,...A,status:"pending",createdAt:new Date,apiMode:L};O(H),Y.debugLog("Transaction data saved:","info",H),c({qrCode:A.qrCode||A.qrData||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIiBmaWxsPSJ3aGl0ZSIvPgo8dGV4dCB4PSIxNTAiIHk9IjE1MCIgZm9udC1mYW1pbHk9Im1vbm9zcGFjZSIgZm9udC1zaXplPSIxNCIgZmlsbD0iYmxhY2siIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5GRUVMRlJFRVBBWTwvdGV4dD4KPHRleHQgeD0iMTUwIiB5PSIxNzAiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtc2l6ZT0iMTIiIGZpbGw9ImdyYXkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5RUkNvZGU8L3RleHQ+Cjwvc3ZnPgo=",referenceNo:A.referenceNo||f.referenceNo,ffpReferenceNo:A.ffpReferenceNo||"ffp_"+A.referenceNo,amount:A.amount||t.price.amount,expiryTime:A.expiryTime?new Date(A.expiryTime):new Date(Date.now()+900*1e3),paymentUrl:A.paymentUrl||`https://feelfreepay.com/pay/${A.referenceNo}`,isMock:A.isMock||!1}),T(A.timeRemaining||900*1e3),d("G"),Y.debugLog("Starting automatic status checking...","info"),F(),Y.debugLog("=== QR Code Generation Completed Successfully ===","success")}catch(f){Y.debugLog("QR Code generation failed:","error",{message:f.message,stack:f.stack}),console.error("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code:",f.message)}finally{I(!1)}},F=()=>{D&&clearInterval(D);const f=setInterval(()=>{S&&S.status==="pending"&&M()},1e4);q(f)},M=async()=>{if(!S){Y.debugLog("No current transaction found","error");return}try{Y.debugLog("Checking payment status...","info");const f=await Y.checkStatusDirect(S.referenceNo);Y.debugLog(`Status check result: ${f}`,"success"),B(f)}catch(f){Y.debugLog("Status check failed","error",f)}},B=f=>{switch(f){case"success":case"S":d("S"),S&&(S.status="success"),D&&(clearInterval(D),q(null)),r&&r(S);break;case"failed":case"D":d("D"),S&&(S.status="failed"),D&&(clearInterval(D),q(null));break;default:d("G")}},o=async()=>{await P()},m=f=>{navigator.clipboard.writeText(f),console.log("‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß")},p=()=>{c(null),d("pending"),T(9e5),O(null),D&&(clearInterval(D),q(null)),P()};return i.useEffect(()=>()=>{D&&clearInterval(D)},[D]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-white to-violet-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-pink-200/30 to-violet-200/30 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-violet-200/30 to-pink-200/30 rounded-full blur-3xl animate-pulse delay-1000"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-br from-blue-200/20 to-purple-200/20 rounded-full blur-3xl animate-pulse delay-2000"})]}),e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl relative z-10",children:[e.jsxs("div",{className:"flex items-center mb-8 animate-fadeIn",children:[e.jsxs(k,{onClick:a,variant:"ghost",className:"mr-4 hover:bg-white/70 transition-all duration-300 hover:scale-105",children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"‡∏Å‡∏•‡∏±‡∏ö"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-4",children:e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-pink-500 to-violet-500 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(xe,{className:"h-6 w-6 text-white"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-600 to-violet-600 bg-clip-text text-transparent",children:"‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô"}),e.jsxs("p",{className:"text-slate-600 flex items-center",children:[e.jsx(De,{className:"h-4 w-4 mr-1 text-green-500"}),"‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß ‡πÅ‡∏•‡∏∞‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠"]})]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1 animate-slideInLeft",children:e.jsxs(ee,{className:"bg-white/90 backdrop-blur-xl border border-white/30 shadow-2xl sticky top-8 hover:shadow-3xl transition-all duration-500 group",children:[e.jsx(qe,{className:"bg-gradient-to-r from-pink-500/10 to-violet-500/10 rounded-t-lg",children:e.jsxs(Ve,{className:"flex items-center text-lg",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-pink-500 to-violet-500 rounded-lg mr-3 group-hover:scale-110 transition-transform duration-300",children:e.jsx(fe,{className:"h-5 w-5 text-white"})}),"‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠"]})}),e.jsxs(ce,{className:"space-y-4",children:[e.jsxs("div",{className:"relative overflow-hidden p-4 bg-gradient-to-r from-pink-50 to-violet-50 rounded-xl border border-pink-100/50 hover:shadow-lg transition-all duration-300 group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-500/5 to-violet-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative z-10 flex items-center",children:[e.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-r ${E.getTierGradient(t.tier)} flex items-center justify-center text-xl mr-4 shadow-lg group-hover:scale-110 transition-transform duration-300`,children:E.getTierIcon(t.tier)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:t.name}),e.jsxs("p",{className:"text-sm text-slate-600 flex items-center",children:[e.jsx(je,{className:"h-3 w-3 mr-1 text-yellow-500"}),t.duration.description]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"font-medium text-slate-700 flex items-center",children:[e.jsx(pe,{className:"h-4 w-4 mr-2 text-yellow-500"}),"‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö"]}),e.jsxs("div",{className:"space-y-1 text-sm text-slate-600",children:[e.jsxs("div",{children:["üí¨ ‡πÅ‡∏ä‡∏ó‡πÑ‡∏î‡πâ ",t.features.dailyChats===-1?"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î":t.features.dailyChats," ‡∏Ñ‡∏£‡∏±‡πâ‡∏á/‡∏ß‡∏±‡∏ô"]}),e.jsxs("div",{children:["üì∏ ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ ",t.features.dailyImages===-1?"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î":t.features.dailyImages," ‡∏£‡∏π‡∏õ/‡∏ß‡∏±‡∏ô"]}),e.jsxs("div",{children:["üé¨ ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠ ",t.features.dailyVideos===-1?"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î":t.features.dailyVideos," ‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠/‡∏ß‡∏±‡∏ô"]}),e.jsxs("div",{children:["ü™ô ‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô ",t.features.dailyBonus.toLocaleString()," ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç"]}),t.features.specialFeatures.length>0&&e.jsx("div",{className:"mt-2 pt-2 border-t border-slate-200",children:t.features.specialFeatures.map((f,A)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{className:"h-3 w-3 mr-2 text-green-500"}),f.description]},A))})]})]}),e.jsx("div",{className:"relative border-t border-gradient-to-r from-pink-200 to-violet-200 pt-4",children:e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gradient-to-r from-pink-500/5 to-violet-500/5 rounded-xl border border-pink-100",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-600 text-sm",children:"‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°"}),t.price.amount>0&&e.jsxs("p",{className:"text-xs text-green-600 flex items-center",children:[e.jsx(le,{className:"h-3 w-3 mr-1"}),"‡∏£‡∏ß‡∏° VAT ‡πÅ‡∏•‡πâ‡∏ß"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-3xl font-bold bg-gradient-to-r from-pink-600 to-violet-600 bg-clip-text text-transparent",children:E.formatPrice(t.price.amount,t.price.currency)}),t.price.amount>0&&e.jsxs("div",{className:"text-xs text-slate-500 flex items-center justify-end",children:[e.jsx(qs,{className:"h-3 w-3 mr-1"}),"‡∏ä‡∏≥‡∏£‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß"]})]})]})})]})]})}),e.jsx("div",{className:"lg:col-span-2 animate-slideInRight",children:e.jsxs(ee,{className:"bg-white/90 backdrop-blur-xl border border-white/30 shadow-2xl hover:shadow-3xl transition-all duration-500",children:[e.jsxs(qe,{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-t-lg",children:[e.jsxs(Ve,{className:"flex items-center text-lg",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg mr-3 animate-pulse",children:e.jsx("div",{className:"w-5 h-5 bg-white rounded flex items-center justify-center text-xs font-bold text-blue-600",children:"FF"})}),"‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏ú‡πà‡∏≤‡∏ô FeelFreePay Gateway"]}),e.jsxs("p",{className:"text-sm text-slate-600 flex items-center",children:[e.jsx(De,{className:"h-4 w-4 mr-1 text-green-500"}),"‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™ SSL 256-bit | ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£"]})]}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"relative overflow-hidden p-6 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl shadow-xl",children:[e.jsx("div",{className:"absolute inset-0 bg-white/10 backdrop-blur-sm"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"FeelFreePay Gateway"}),e.jsx("p",{className:"text-white/90 text-sm",children:"‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß ‡πÅ‡∏•‡∏∞‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏™‡∏ö‡∏≤‡∏¢"})]}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center backdrop-blur-lg shadow-xl",children:e.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center text-2xl font-bold text-blue-600",children:"FF"})})})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:e.jsxs("div",{className:"flex items-center bg-white/20 backdrop-blur-sm rounded-lg px-3 py-2",children:[e.jsx(Ke,{className:"h-4 w-4 text-white mr-2"}),e.jsx("span",{className:"text-white text-sm",children:"QR Code"})]})})]})]}),j&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-white to-slate-50 rounded-2xl border border-slate-200 shadow-lg",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:[e.jsx(Ke,{className:"h-6 w-6 inline mr-2 text-blue-600"}),"‡∏™‡πÅ‡∏Å‡∏ô QR Code ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô"]}),e.jsx("p",{className:"text-sm text-slate-600",children:"‡πÉ‡∏ä‡πâ‡πÅ‡∏≠‡∏õ‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏´‡∏£‡∏∑‡∏≠ Mobile Banking ‡∏™‡πÅ‡∏Å‡∏ô QR Code ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á"})]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:j.qrCode,alt:"QR Code",className:"rounded-lg shadow-2xl",style:{width:"180px",height:"264px",maxWidth:"100%",objectFit:"contain",imageRendering:"crisp-edges"}}),h==="pending"&&e.jsx("div",{className:"absolute inset-0 bg-white/90 flex items-center justify-center rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ne,{className:"h-10 w-10 animate-spin mx-auto mb-2 text-blue-500"}),e.jsx("p",{className:"text-sm text-slate-600",children:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î QR Code..."})]})})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg",children:[e.jsx("span",{className:"text-slate-600",children:"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô:"}),e.jsx("span",{className:"font-bold text-lg text-slate-800",children:E.formatPrice(j.amount,t.price.currency)})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg",children:[e.jsx("span",{className:"text-slate-600",children:"‡∏£‡∏´‡∏±‡∏™‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-mono text-sm text-slate-800",children:j.referenceNo}),e.jsx(k,{variant:"ghost",size:"sm",onClick:()=>m(j.referenceNo),className:"p-1 h-auto",children:e.jsx(Vs,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg",children:[e.jsxs("span",{className:"text-slate-600 flex items-center",children:[e.jsx(ms,{className:"h-4 w-4 mr-1"}),"‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠:"]}),e.jsx("span",{className:`font-bold ${$<6e4?"text-red-500":"text-slate-800"}`,children:Tt.formatTimeRemaining($)})]})]}),e.jsx("div",{className:"flex gap-3 mt-4",children:e.jsxs(k,{onClick:p,variant:"outline",className:"flex-1",disabled:R,children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä QR Code"]})}),e.jsx("div",{className:"mt-4 p-3 bg-slate-50 rounded-lg",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${h==="expired"?"bg-red-100 text-red-800":h==="S"?"bg-green-100 text-green-800":h==="G"||h==="A"?"bg-yellow-100 text-yellow-800":"bg-slate-100 text-slate-800"}`,children:[e.jsx("span",{className:"mr-1",children:h==="expired"?"‚è∞":h==="S"?"‚úÖ":h==="G"||h==="A"?"‚è≥":"‚ùì"}),e.jsx("span",{className:"ml-1",children:h==="expired"?"QR Code ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏•‡πâ‡∏ß":Y.getStatusMessage(h)})]})})})]})}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsxs(k,{onClick:N,variant:"outline",className:"flex-1 h-12 border-2 hover:bg-slate-50 transition-all duration-300 hover:scale-105",disabled:R,children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å"]}),e.jsx(k,{onClick:o,className:`flex-1 h-12 shadow-lg hover:shadow-xl transition-all duration-300 ${R?"bg-gradient-to-r from-gray-400 to-gray-500 opacity-50 cursor-not-allowed hover:scale-100":j?"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white cursor-default hover:scale-100":"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white hover:scale-105"}`,disabled:R,children:R?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-5 w-5 mr-2 animate-spin"}),"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•..."]}):j?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-center justify-center w-full",children:[e.jsx(le,{className:"h-5 w-5 mr-2 text-white"}),e.jsx("span",{className:"font-medium",children:"QR Code ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô"})]})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-1 bg-white/20 rounded-full mr-3 animate-pulse",children:e.jsx("div",{className:"w-5 h-5 bg-white rounded-full flex items-center justify-center text-xs font-bold text-blue-600",children:"FF"})}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-sm font-medium",children:"‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô"}),e.jsx("span",{className:"text-xs opacity-90",children:E.formatPrice(t.price.amount,t.price.currency)})]})]})})})})]}),e.jsxs("div",{className:"flex items-center justify-center text-xs text-slate-500 pt-2 border-t border-slate-100",children:[e.jsx(gs,{className:"h-3 w-3 mr-1 text-green-500"}),"‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏Å‡∏õ‡πâ‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£"]})]})]})})]})]})]})},Vt=({transactionData:t,plan:a,onContinue:r})=>{const[N,w]=i.useState(!0);i.useEffect(()=>{const I=setTimeout(()=>{w(!1)},3e3);return()=>clearTimeout(I)},[]);const R=[{icon:e.jsx(pe,{className:"h-5 w-5"}),title:"‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏¥‡πÄ‡∏®‡∏©",description:`‡πÅ‡∏ä‡∏ó‡πÑ‡∏î‡πâ ${a.features.dailyChats===-1?"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î":a.features.dailyChats} ‡∏Ñ‡∏£‡∏±‡πâ‡∏á/‡∏ß‡∏±‡∏ô`},{icon:e.jsx(Ne,{className:"h-5 w-5"}),title:"‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç",description:`‡∏£‡∏±‡∏ö‡πÇ‡∏ö‡∏ô‡∏±‡∏™ ${a.features.dailyBonus.toLocaleString()} ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô`},{icon:e.jsx(fe,{className:"h-5 w-5"}),title:"‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏û‡∏¥‡πÄ‡∏®‡∏©",description:"‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50 relative overflow-hidden",children:[N&&e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:50}).map((I,j)=>e.jsx("div",{className:"absolute animate-ping",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:e.jsx(xe,{className:"h-4 w-4 text-pink-400"})},j))}),e.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl relative z-10",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-6",children:e.jsx(le,{className:"h-12 w-12 text-green-500"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-light text-slate-800 mb-4",children:"‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! üéâ"}),e.jsxs("p",{className:"text-xl text-slate-600 mb-2",children:["‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î‡πÄ‡∏õ‡πá‡∏ô ",a.name," ‡πÅ‡∏•‡πâ‡∏ß"]}),e.jsx("p",{className:"text-slate-500",children:"‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ"})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsx(ee,{className:"bg-white/80 backdrop-blur-sm border border-white/20 shadow-lg",children:e.jsxs(ce,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-slate-800 mb-6 flex items-center",children:[e.jsx(le,{className:"h-5 w-5 mr-2 text-green-500"}),"‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100",children:[e.jsx("span",{className:"text-slate-600",children:"‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£"}),e.jsx("span",{className:"font-mono text-sm text-slate-800",children:t.transactionId})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100",children:[e.jsx("span",{className:"text-slate-600",children:"‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à"}),e.jsx("span",{className:"font-semibold text-slate-800",children:a.name})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100",children:[e.jsx("span",{className:"text-slate-600",children:"‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤"}),e.jsx("span",{className:"text-slate-800",children:a.duration.description})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100",children:[e.jsx("span",{className:"text-slate-600",children:"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô"}),e.jsx("span",{className:"text-xl font-bold text-slate-800",children:E.formatPrice(t.amount,t.currency)})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100",children:[e.jsx("span",{className:"text-slate-600",children:"‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞"}),e.jsx("span",{className:"text-slate-800 capitalize",children:t.paymentMethod.replace("_"," ")})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b border-slate-100",children:[e.jsx("span",{className:"text-slate-600",children:"‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£"}),e.jsx("span",{className:"text-slate-800",children:new Date(t.timestamp).toLocaleString("th-TH")})]}),e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsx("span",{className:"text-slate-600",children:"‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞"}),e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(le,{className:"h-3 w-3 mr-1"}),"‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à"]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs(k,{variant:"outline",className:"flex-1",size:"sm",children:[e.jsx(Ws,{className:"h-4 w-4 mr-2"}),"‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à"]}),e.jsxs(k,{variant:"outline",className:"flex-1",size:"sm",children:[e.jsx(Qs,{className:"h-4 w-4 mr-2"}),"‡πÅ‡∏ä‡∏£‡πå"]})]})]})}),e.jsx(ee,{className:"bg-white/80 backdrop-blur-sm border border-white/20 shadow-lg",children:e.jsxs(ce,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-slate-800 mb-6 flex items-center",children:[e.jsx(fe,{className:"h-5 w-5 mr-2 text-pink-500"}),"‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö"]}),e.jsx("div",{className:"space-y-4 mb-6",children:R.map((I,j)=>e.jsxs("div",{className:"flex items-start p-3 bg-gradient-to-r from-pink-50 to-violet-50 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-r from-pink-400 to-violet-400 rounded-lg flex items-center justify-center text-white mr-3",children:I.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-800",children:I.title}),e.jsx("p",{className:"text-sm text-slate-600",children:I.description})]})]},j))}),a.features.specialFeatures.length>0&&e.jsxs("div",{className:"border-t border-slate-200 pt-4",children:[e.jsx("h3",{className:"font-medium text-slate-700 mb-3",children:"‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏û‡∏¥‡πÄ‡∏®‡∏©"}),e.jsx("div",{className:"space-y-2",children:a.features.specialFeatures.map((I,j)=>e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(le,{className:"h-4 w-4 mr-2 text-green-500"}),e.jsx("span",{className:"text-slate-600",children:I.description})]},j))})]}),a.features.bonusCoins>0&&e.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ne,{className:"h-5 w-5 text-yellow-500 mr-2"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-yellow-800",children:"‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏û‡∏¥‡πÄ‡∏®‡∏©!"}),e.jsxs("p",{className:"text-sm text-yellow-700",children:["‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡πÇ‡∏ö‡∏ô‡∏±‡∏™ ",a.features.bonusCoins.toLocaleString()," ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç"]})]})]})})]})})]}),e.jsxs("div",{className:"text-center mt-12",children:[e.jsxs(k,{onClick:r,size:"lg",className:"bg-gradient-to-r from-pink-500 to-violet-500 hover:from-pink-600 hover:to-violet-600 px-8 py-3",children:["‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏¥‡πÄ‡∏®‡∏©",e.jsx(Js,{className:"h-5 w-5 ml-2"})]}),e.jsx("p",{className:"text-sm text-slate-500 mt-3",children:"‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì"})]}),e.jsx("div",{className:"mt-12 text-center",children:e.jsx(ee,{className:"bg-slate-50/80 backdrop-blur-sm border border-slate-200/50",children:e.jsxs(ce,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-slate-800 mb-2",children:"‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠?"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ"}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx(k,{variant:"outline",size:"sm",children:"üìß ‡∏≠‡∏µ‡πÄ‡∏°‡∏•"}),e.jsx(k,{variant:"outline",size:"sm",children:"üí¨ ‡πÅ‡∏ä‡∏ó"}),e.jsx(k,{variant:"outline",size:"sm",children:"üìû ‡πÇ‡∏ó‡∏£"})]})]})})})]})]})},z=i.forwardRef(({className:t,type:a,...r},N)=>e.jsx("input",{type:a,className:V("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-pink-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:N,...r}));z.displayName="Input";const _t=We("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),C=i.forwardRef(({className:t,...a},r)=>e.jsx(us,{ref:r,className:V(_t(),t),...a}));C.displayName=us.displayName;const Wt=({isOpen:t,onClose:a,onLoginSuccess:r})=>{const[N,w]=i.useState(!1),[R,I]=i.useState("email"),[j,c]=i.useState("email"),[h,d]=i.useState(!1),[$,T]=i.useState(""),[S,O]=i.useState("");i.useEffect(()=>{t&&(T(""),O(""),d(!1))},[t]);const[D,q]=i.useState({emailOrUsername:"",password:"",showPassword:!1}),[L,X]=i.useState({phone:""}),[g,u]=i.useState({firstName:"",lastName:"",username:"",email:"",password:"",confirmPassword:"",dateOfBirth:"",gender:"",lookingFor:"",location:"",showPassword:!1,showConfirmPassword:!1}),P=async m=>{m.preventDefault(),d(!0),T("");try{const p=D.emailOrUsername.includes("@"),f={password:D.password};p?f.email=D.emailOrUsername:f.username=D.emailOrUsername;const H=await(await fetch("https://sodeclicktest-back-production.up.railway.app/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)})).json();H.success?(O("‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!"),sessionStorage.setItem("token",H.data.token),sessionStorage.setItem("user",JSON.stringify(H.data.user)),r(H.data),setTimeout(()=>a(),1e3)):T(H.message||"‡∏≠‡∏µ‡πÄ‡∏°‡∏•/‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á")}catch{T("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠")}finally{d(!1)}},F=()=>{window.location.href="https://sodeclicktest-back-production.up.railway.app/api/auth/google"},M=async m=>{if(m.preventDefault(),d(!0),T(""),console.log("Phone login form submitted:",L),!L.phone){T("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå"),d(!1);return}try{const f=await(await fetch("https://sodeclicktest-back-production.up.railway.app/api/auth/login-phone",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:L.phone})})).json();console.log("Phone login response:",f),f.success?(O("‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!"),sessionStorage.setItem("token",f.data.token),sessionStorage.setItem("user",JSON.stringify(f.data.user)),r(f.data),setTimeout(()=>a(),1e3)):T(f.message||"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö")}catch(p){console.error("Phone login error:",p),T("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠")}finally{d(!1)}},B=async m=>{if(m.preventDefault(),d(!0),T(""),console.log("Email register form submitted:",g),g.password!==g.confirmPassword){T("‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô"),d(!1);return}const p={firstName:g.firstName,lastName:g.lastName,username:g.username,email:g.email,password:g.password,dateOfBirth:g.dateOfBirth,gender:g.gender,lookingFor:g.lookingFor,location:g.location},f=Object.entries(p).filter(([A,H])=>!H||H.trim()==="").map(([A])=>A);if(f.length>0){console.log("Missing required fields:",f),T("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô"),d(!1);return}console.log("All validation passed, sending request...");try{const A={firstName:g.firstName.trim(),lastName:g.lastName.trim(),username:g.username.trim(),email:g.email.trim(),password:g.password,dateOfBirth:g.dateOfBirth,gender:g.gender,lookingFor:g.lookingFor,location:g.location.trim()};console.log("Email register request body:",A);const Q=await(await fetch("https://sodeclicktest-back-production.up.railway.app/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)})).json();console.log("Register response:",Q),Q.success?(O("‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!"),sessionStorage.setItem("token",Q.data.token),sessionStorage.setItem("user",JSON.stringify(Q.data.user)),r(Q.data),setTimeout(()=>a(),1e3)):T(Q.message||"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô")}catch(A){console.error("Email register error:",A),T("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠")}finally{d(!1)}},o=async m=>{m.preventDefault(),d(!0),T(""),console.log("Phone register form submitted:",{phoneForm:L,registerForm:g});const p={phone:L.phone,firstName:g.firstName,lastName:g.lastName,dateOfBirth:g.dateOfBirth,gender:g.gender,lookingFor:g.lookingFor,location:g.location},f=Object.entries(p).filter(([A,H])=>!H||H.trim()==="").map(([A])=>A);if(f.length>0){console.log("Missing required fields:",f),T("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô"),d(!1);return}console.log("All validation passed, sending request...");try{const A={phone:L.phone.trim(),firstName:g.firstName.trim(),lastName:g.lastName.trim(),dateOfBirth:g.dateOfBirth,gender:g.gender,lookingFor:g.lookingFor,location:g.location.trim()};console.log("Phone register request body:",A);const Q=await(await fetch("https://sodeclicktest-back-production.up.railway.app/api/auth/register-phone",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)})).json();console.log("Phone register response:",Q),Q.success?(O("‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!"),sessionStorage.setItem("token",Q.data.token),sessionStorage.setItem("user",JSON.stringify(Q.data.user)),r(Q.data),setTimeout(()=>a(),1e3)):T(Q.message||"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô")}catch(A){console.error("Phone register error:",A),T("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠")}finally{d(!1)}};return e.jsx(_e,{open:t,onOpenChange:a,children:e.jsxs(ye,{className:"sm:max-w-lg modern-card border-0 shadow-2xl",children:[e.jsxs(we,{className:"text-center space-y-4",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-pink-500 to-violet-500 rounded-2xl flex items-center justify-center shadow-lg heart-beat",children:e.jsx(he,{className:"h-8 w-8 text-white",fill:"white"})}),e.jsx(ke,{className:"text-2xl font-bold gradient-text",children:N?"Join Our Community ‚ú®":"Welcome Back! üíï"}),e.jsx(Ce,{className:"text-gray-600",children:N?"Create your profile and start finding amazing connections":"Sign in to continue your journey to find love"})]}),N?e.jsxs(e.Fragment,{children:[e.jsxs(He,{value:j,onValueChange:c,className:"w-full",children:[e.jsxs(Re,{className:"grid w-full grid-cols-3 bg-gray-100 p-1 rounded-lg",children:[e.jsx(te,{value:"email",className:"data-[state=active]:bg-white data-[state=active]:text-pink-600 text-gray-600",children:"‡∏≠‡∏µ‡πÄ‡∏°‡∏•"}),e.jsx(te,{value:"phone",className:"data-[state=active]:bg-white data-[state=active]:text-pink-600 text-gray-600",children:"‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£"}),e.jsx(te,{value:"google",className:"data-[state=active]:bg-white data-[state=active]:text-pink-600 text-gray-600",children:"Google"})]}),e.jsx(ae,{value:"email",className:"space-y-4",children:e.jsxs("form",{onSubmit:B,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"firstName",className:"text-gray-700 font-medium",children:"‡∏ä‡∏∑‡πà‡∏≠"}),e.jsx(z,{id:"firstName",value:g.firstName,onChange:m=>u(p=>({...p,firstName:m.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"lastName",className:"text-gray-700 font-medium",children:"‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•"}),e.jsx(z,{id:"lastName",value:g.lastName,onChange:m=>u(p=>({...p,lastName:m.target.value})),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"username",className:"text-gray-700 font-medium",children:"‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ"}),e.jsx(z,{id:"username",value:g.username,onChange:m=>u(p=>({...p,username:m.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"email",className:"text-gray-700 font-medium",children:"‡∏≠‡∏µ‡πÄ‡∏°‡∏•"}),e.jsx(z,{id:"email",type:"email",value:g.email,onChange:m=>u(p=>({...p,email:m.target.value})),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"password",className:"text-gray-700 font-medium",children:"‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô"}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{id:"password",type:g.showPassword?"text":"password",value:g.password,onChange:m=>u(p=>({...p,password:m.target.value})),className:"pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>u(m=>({...m,showPassword:!m.showPassword})),className:"absolute right-3 top-3 h-4 w-4 text-gray-400 hover:text-gray-600",children:g.showPassword?e.jsx(Ee,{}):e.jsx(Le,{})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"confirmPassword",className:"text-gray-700 font-medium",children:"‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô"}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{id:"confirmPassword",type:g.showConfirmPassword?"text":"password",value:g.confirmPassword,onChange:m=>u(p=>({...p,confirmPassword:m.target.value})),className:"pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>u(m=>({...m,showConfirmPassword:!m.showConfirmPassword})),className:"absolute right-3 top-3 h-4 w-4 text-gray-400 hover:text-gray-600",children:g.showConfirmPassword?e.jsx(Ee,{}):e.jsx(Le,{})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"dateOfBirth",className:"text-gray-700 font-medium",children:"‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î"}),e.jsx(z,{id:"dateOfBirth",type:"date",value:g.dateOfBirth,onChange:m=>u(p=>({...p,dateOfBirth:m.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"gender",className:"text-gray-700 font-medium",children:"‡πÄ‡∏û‡∏®"}),e.jsxs("select",{id:"gender",value:g.gender,onChange:m=>u(p=>({...p,gender:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 bg-white text-gray-900",required:!0,children:[e.jsx("option",{value:"",children:"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏®"}),e.jsx("option",{value:"male",children:"‡∏ä‡∏≤‡∏¢"}),e.jsx("option",{value:"female",children:"‡∏´‡∏ç‡∏¥‡∏á"}),e.jsx("option",{value:"other",children:"‡∏≠‡∏∑‡πà‡∏ô‡πÜ"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"lookingFor",className:"text-gray-700 font-medium",children:"‡∏™‡∏ô‡πÉ‡∏à"}),e.jsxs("select",{id:"lookingFor",value:g.lookingFor,onChange:m=>u(p=>({...p,lookingFor:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 bg-white text-gray-900",required:!0,children:[e.jsx("option",{value:"",children:"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏®‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à"}),e.jsx("option",{value:"male",children:"‡∏ä‡∏≤‡∏¢"}),e.jsx("option",{value:"female",children:"‡∏´‡∏ç‡∏¥‡∏á"}),e.jsx("option",{value:"both",children:"‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡πÄ‡∏û‡∏®"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"location",className:"text-gray-700 font-medium",children:"‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà"}),e.jsx(z,{id:"location",value:g.location,onChange:m=>u(p=>({...p,location:m.target.value})),placeholder:"‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø",required:!0})]})]}),e.jsx(k,{type:"submit",className:"w-full bg-pink-600 hover:bg-pink-700 text-white font-medium py-2 px-4 rounded-md transition-colors",disabled:h,onClick:()=>{console.log("Email register button clicked"),console.log("Current form state:",g)},children:h?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"mr-2 h-4 w-4 animate-spin"}),"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô..."]}):"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÉ‡∏´‡∏°‡πà"})]})}),e.jsx(ae,{value:"phone",className:"space-y-4",children:e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"phone",className:"text-gray-700 font-medium",children:"‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ie,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(z,{id:"phone",type:"tel",placeholder:"0812345678",value:L.phone,onChange:m=>X(p=>({...p,phone:m.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"firstName",className:"text-gray-700 font-medium",children:"‡∏ä‡∏∑‡πà‡∏≠"}),e.jsx(z,{id:"firstName",value:g.firstName,onChange:m=>u(p=>({...p,firstName:m.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"lastName",className:"text-gray-700 font-medium",children:"‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•"}),e.jsx(z,{id:"lastName",value:g.lastName,onChange:m=>u(p=>({...p,lastName:m.target.value})),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"dateOfBirth",className:"text-gray-700 font-medium",children:"‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î"}),e.jsx(z,{id:"dateOfBirth",type:"date",value:g.dateOfBirth,onChange:m=>u(p=>({...p,dateOfBirth:m.target.value})),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"gender",className:"text-gray-700 font-medium",children:"‡πÄ‡∏û‡∏®"}),e.jsxs("select",{id:"gender",value:g.gender,onChange:m=>u(p=>({...p,gender:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 bg-white text-gray-900",required:!0,children:[e.jsx("option",{value:"",children:"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏®"}),e.jsx("option",{value:"male",children:"‡∏ä‡∏≤‡∏¢"}),e.jsx("option",{value:"female",children:"‡∏´‡∏ç‡∏¥‡∏á"}),e.jsx("option",{value:"other",children:"‡∏≠‡∏∑‡πà‡∏ô‡πÜ"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"lookingFor",className:"text-gray-700 font-medium",children:"‡∏™‡∏ô‡πÉ‡∏à"}),e.jsxs("select",{id:"lookingFor",value:g.lookingFor,onChange:m=>u(p=>({...p,lookingFor:m.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 bg-white text-gray-900",required:!0,children:[e.jsx("option",{value:"",children:"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏®‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à"}),e.jsx("option",{value:"male",children:"‡∏ä‡∏≤‡∏¢"}),e.jsx("option",{value:"female",children:"‡∏´‡∏ç‡∏¥‡∏á"}),e.jsx("option",{value:"both",children:"‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡πÄ‡∏û‡∏®"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"location",className:"text-gray-700 font-medium",children:"‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà"}),e.jsx(z,{id:"location",value:g.location,onChange:m=>u(p=>({...p,location:m.target.value})),placeholder:"‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø",required:!0})]})]}),e.jsx(k,{type:"submit",className:"w-full bg-pink-600 hover:bg-pink-700 text-white font-medium py-2 px-4 rounded-md transition-colors",disabled:h,onClick:()=>{console.log("Phone register button clicked"),console.log("Current phone form state:",L),console.log("Current register form state:",g)},children:h?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"mr-2 h-4 w-4 animate-spin"}),"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô..."]}):"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÉ‡∏´‡∏°‡πà"})]})}),e.jsx(ae,{value:"google",className:"space-y-4",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÉ‡∏´‡∏°‡πà‡∏î‡πâ‡∏ß‡∏¢ Google Account ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì"}),e.jsxs(k,{onClick:F,className:"w-full glass-effect border border-white/30 text-gray-700 hover:bg-white/50 font-semibold py-3 px-6 rounded-xl transition-all duration-300 hover:scale-105 shadow-lg",children:[e.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏î‡πâ‡∏ß‡∏¢ Google"]})]})})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>w(!1),className:"text-sm text-gray-600 hover:text-gray-700",children:"‡∏°‡∏µ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß? ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö"})})]}):e.jsxs(He,{value:R,onValueChange:I,className:"w-full",children:[e.jsxs(Re,{className:"grid w-full grid-cols-3 glass-effect p-2 rounded-xl border border-white/30",children:[e.jsxs(te,{value:"email",className:"data-[state=active]:bg-white/90 data-[state=active]:text-pink-600 data-[state=active]:shadow-lg text-gray-600 rounded-lg font-medium transition-all duration-300",children:[e.jsx(es,{className:"h-4 w-4 mr-2"}),"Email"]}),e.jsxs(te,{value:"phone",className:"data-[state=active]:bg-white/90 data-[state=active]:text-pink-600 data-[state=active]:shadow-lg text-gray-600 rounded-lg font-medium transition-all duration-300",children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Phone"]}),e.jsxs(te,{value:"google",className:"data-[state=active]:bg-white/90 data-[state=active]:text-pink-600 data-[state=active]:shadow-lg text-gray-600 rounded-lg font-medium transition-all duration-300",children:[e.jsxs("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})]}),e.jsxs(ae,{value:"email",className:"space-y-4",children:[e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"emailOrUsername",className:"text-gray-700 font-medium",children:"‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ"}),e.jsxs("div",{className:"relative",children:[e.jsx(es,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(z,{id:"emailOrUsername",type:"text",placeholder:"your@email.com ‡∏´‡∏£‡∏∑‡∏≠ username",value:D.emailOrUsername,onChange:m=>q(p=>({...p,emailOrUsername:m.target.value})),className:"pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"password",className:"text-gray-700 font-medium",children:"‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(z,{id:"password",type:D.showPassword?"text":"password",placeholder:"‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì",value:D.password,onChange:m=>q(p=>({...p,password:m.target.value})),className:"pl-10 pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>q(m=>({...m,showPassword:!m.showPassword})),className:"absolute right-3 top-3 h-4 w-4 text-gray-400 hover:text-gray-600",children:D.showPassword?e.jsx(Ee,{}):e.jsx(Le,{})})]})]}),e.jsx(k,{type:"submit",className:"modern-button w-full",disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"mr-2 h-4 w-4",fill:"white"}),"Sign In"]})})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>w(!0),className:"text-sm text-pink-600 hover:text-pink-700 font-medium",children:"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ? ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÉ‡∏´‡∏°‡πà"})})]}),e.jsxs(ae,{value:"phone",className:"space-y-4",children:[e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"phone",className:"text-gray-700 font-medium",children:"‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ie,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(z,{id:"phone",type:"tel",placeholder:"0812345678",value:L.phone,onChange:m=>X(p=>({...p,phone:m.target.value})),className:"pl-10",required:!0})]})]}),e.jsx(k,{type:"submit",className:"modern-button w-full",disabled:h||!L.phone,children:h?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ie,{className:"mr-2 h-4 w-4"}),"Sign In"]})})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>w(!0),className:"text-sm text-gray-600 hover:text-gray-700",children:"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ? ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÉ‡∏´‡∏°‡πà"})})]}),e.jsx(ae,{value:"google",className:"space-y-4",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢ Google Account ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì"}),e.jsxs(k,{onClick:F,className:"w-full bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 font-medium py-2 px-4 rounded-md transition-colors",children:[e.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢ Google"]})]})})]}),$&&e.jsxs("div",{className:"flex items-center space-x-2 text-red-600 text-sm bg-red-50 p-3 rounded-md border border-red-200",children:[e.jsx(Zs,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{children:$})]}),S&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600 text-sm bg-green-50 p-3 rounded-md border border-green-200",children:[e.jsx(le,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{children:S})]})]})})},Et=We("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function re({className:t,variant:a,...r}){return e.jsx("div",{className:V(Et({variant:a}),t),...r})}const Qt=({userId:t,isOwnProfile:a=!1})=>{const[r,N]=i.useState(null),[w,R]=i.useState(!0),[I,j]=i.useState(!1),[c,h]=i.useState({}),[d,$]=i.useState(!1),[T,S]=i.useState(!1),[O,D]=i.useState(null),[q,L]=i.useState(""),{success:X,error:g}=Ye(),u=l=>{if(!l)return null;const s=new Date,b=new Date(l);let v=s.getFullYear()-b.getFullYear();const _=s.getMonth()-b.getMonth();return(_<0||_===0&&s.getDate()<b.getDate())&&v--,v},P=async()=>{try{R(!0);const l=await Te.getUserProfile(t);l.success?(N(l.data.profile),h(l.data.profile),L(me(l.data.profile?.pets)),console.log("Profile loaded successfully:",l.data.profile)):(console.error("Profile API returned error:",l),g(l.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏î‡πâ"))}catch(l){console.error("Error fetching profile:",l),l.message.includes("403")?g("‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ"):l.message.includes("404")?g("‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ"):g("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡πÑ‡∏î‡πâ")}finally{R(!1)}},F=async()=>{try{const l=sessionStorage.getItem("token"),s={"Content-Type":"application/json"};l&&(s.Authorization=`Bearer ${l}`);const b=await fetch(`https://sodeclicktest-back-production.up.railway.app/api/membership/user/${t}`,{headers:s});if(b.ok){const v=await b.json();v.success&&D(v.data)}else console.log("Membership data not available (may require login)")}catch(l){console.log("Error fetching membership data (non-critical):",l)}},M=async()=>{try{if($(!0),console.log("saveProfile called"),console.log("Current editData:",c),console.log("Current profile:",r),!sessionStorage.getItem("token")){g("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà"),window.location.href="/";return}const s=Array.isArray(c.pets)?{hasPets:c.pets.length>0,petTypes:c.pets}:c.pets||{},b={...c,education:c.education||{},pets:s,lifestyle:c.lifestyle||{},interests:c.interests||[],coordinates:c.coordinates||{type:"Point",coordinates:[0,0]},membership:c.membership||{}};console.log("Cleaned profile data:",b),console.log("Religion field:",b.religion),console.log("Languages field:",b.languages),console.log("Interests field:",b.interests);const v=await Te.updateUserProfile(t,b);console.log("Response from backend:",v),console.log("Updated profile:",v.data.profile),console.log("Interests data:",v.data.profile?.interests),N(v.data.profile),h(v.data.profile),L(me(v.data.profile?.pets)),j(!1),X("‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à")}catch(l){if(console.error("Error saving profile:",l),l.message.includes("Session expired")||l.message.includes("Authentication token not found")||l.message.includes("Token ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á")){g("Token ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà"),sessionStorage.removeItem("token"),sessionStorage.removeItem("user"),setTimeout(()=>{window.location.href="/"},2e3);return}if(l.message.includes("Validation error"))g(l.message);else if(l.message&&l.message.includes("400"))try{const s=l.message.match(/message: (.+)/);g(s?s[1]:"‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏≠‡∏Å")}catch{g("‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏≠‡∏Å")}else g(l.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ")}finally{$(!1)}},B=()=>{console.log("startEdit called, profile:",r),console.log("Setting editData to:",{...r}),h({...r}),j(!0),console.log("editMode set to true"),L(me(r?.pets))},o=()=>{console.log("cancelEdit called"),console.log("Resetting editData to:",{...r}),h({...r}),j(!1),console.log("editMode set to false"),L(me(r?.pets))},m=async l=>{const s=l.target.files[0];if(s){if(O){const b=r.profileImages?r.profileImages.length:0,v=O.limits.dailyImages===-1?10:O.limits.dailyImages;if(b>=v){g(`‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ${v} ‡∏£‡∏π‡∏õ‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å ${E.getTierName(O.membershipTier)}`);return}}try{S(!0),await Te.uploadProfileImage(t,s),await P(),X("‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à")}catch(b){g(b.response?.data?.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏î‡πâ")}finally{S(!1)}}},p=async l=>{try{await Te.deleteProfileImage(t,l),await P(),X("‡∏•‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à")}catch(s){g(s.response?.data?.message||"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏î‡πâ")}};i.useEffect(()=>{t&&(P(),F())},[t]);const f=l=>({high_school:"‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤",bachelor:"‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ",master:"‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÇ‡∏ó",phd:"‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÄ‡∏≠‡∏Å",doctorate:"‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÄ‡∏≠‡∏Å",vocational:"‡∏≠‡∏≤‡∏ä‡∏µ‡∏ß‡∏®‡∏∂‡∏Å‡∏©‡∏≤",diploma:"‡∏õ‡∏ß‡∏™./‡∏≠‡∏ô‡∏∏‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤",other:"‡∏≠‡∏∑‡πà‡∏ô‡πÜ"})[l]||l,A=l=>({buddhist:"‡∏û‡∏∏‡∏ó‡∏ò",christian:"‡∏Ñ‡∏£‡∏¥‡∏™‡∏ï‡πå",muslim:"‡∏≠‡∏¥‡∏™‡∏•‡∏≤‡∏°",hindu:"‡∏Æ‡∏¥‡∏ô‡∏î‡∏π",other:"‡∏≠‡∏∑‡πà‡∏ô‡πÜ",none:"‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏®‡∏≤‡∏™‡∏ô‡∏≤",buddhism:"‡∏û‡∏∏‡∏ó‡∏ò",christianity:"‡∏Ñ‡∏£‡∏¥‡∏™‡∏ï‡πå",islam:"‡∏≠‡∏¥‡∏™‡∏•‡∏≤‡∏°",hinduism:"‡∏Æ‡∏¥‡∏ô‡∏î‡∏π"})[l]||l,H=(l,s)=>({smoking:{yes:"‡∏™‡∏π‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà",no:"‡πÑ‡∏°‡πà‡∏™‡∏π‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà",occasionally:"‡∏™‡∏π‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏≤‡∏ß",quit:"‡πÄ‡∏•‡∏¥‡∏Å‡∏™‡∏π‡∏ö‡πÅ‡∏•‡πâ‡∏ß",regularly:"‡∏™‡∏π‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà",never:"‡πÑ‡∏°‡πà‡∏™‡∏π‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà",trying_to_quit:"‡πÄ‡∏•‡∏¥‡∏Å‡∏™‡∏π‡∏ö‡πÅ‡∏•‡πâ‡∏ß"},drinking:{yes:"‡∏î‡∏∑‡πà‡∏°‡∏™‡∏∏‡∏£‡∏≤",no:"‡πÑ‡∏°‡πà‡∏î‡∏∑‡πà‡∏°‡∏™‡∏∏‡∏£‡∏≤",socially:"‡∏î‡∏∑‡πà‡∏°‡πÉ‡∏ô‡∏á‡∏≤‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏°",occasionally:"‡∏î‡∏∑‡πà‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏≤‡∏ß",quit:"‡πÑ‡∏°‡πà‡∏î‡∏∑‡πà‡∏°‡∏™‡∏∏‡∏£‡∏≤",regularly:"‡∏î‡∏∑‡πà‡∏°‡∏™‡∏∏‡∏£‡∏≤",never:"‡πÑ‡∏°‡πà‡∏î‡∏∑‡πà‡∏°‡∏™‡∏∏‡∏£‡∏≤"},exercise:{daily:"‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô",weekly:"‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏•‡∏∞ 2-3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á",monthly:"‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏≤‡∏ß",never:"‡πÑ‡∏°‡πà‡∏Ñ‡πà‡∏≠‡∏¢‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢",regularly:"‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠",sometimes:"‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏≤‡∏ß",rarely:"‡πÅ‡∏ó‡∏ö‡πÑ‡∏°‡πà‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢"},diet:{regular:"‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ",vegetarian:"‡∏°‡∏±‡∏á‡∏™‡∏ß‡∏¥‡∏£‡∏±‡∏ï‡∏¥",vegan:"‡∏ß‡∏µ‡πÅ‡∏Å‡∏ô",halal:"‡∏Æ‡∏≤‡∏•‡∏≤‡∏•",other:"‡∏≠‡∏∑‡πà‡∏ô‡πÜ",omnivore:"‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ"},sleep:{early:"‡∏ô‡∏≠‡∏ô‡πÄ‡∏£‡πá‡∏ß (‡∏Å‡πà‡∏≠‡∏ô 22:00)",normal:"‡∏ô‡∏≠‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥ (22:00-24:00)",late:"‡∏ô‡∏≠‡∏ô‡∏î‡∏∂‡∏Å (‡∏´‡∏•‡∏±‡∏á 24:00)",irregular:"‡∏ô‡∏≠‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤",early_bird:"‡∏ô‡∏≠‡∏ô‡πÄ‡∏£‡πá‡∏ß ‡∏ï‡∏∑‡πà‡∏ô‡πÄ‡∏ä‡πâ‡∏≤",night_owl:"‡∏ô‡∏≠‡∏ô‡∏î‡∏∂‡∏Å ‡∏ï‡∏∑‡πà‡∏ô‡∏™‡∏≤‡∏¢",flexible:"‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô"}})[l]?.[s]||s,Q=l=>({dog:"‡∏™‡∏∏‡∏ô‡∏±‡∏Ç",cat:"‡πÅ‡∏°‡∏ß",bird:"‡∏ô‡∏Å",fish:"‡∏õ‡∏•‡∏≤",rabbit:"‡∏Å‡∏£‡∏∞‡∏ï‡πà‡∏≤‡∏¢",hamster:"‡πÅ‡∏Æ‡∏°‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå",other:"‡∏≠‡∏∑‡πà‡∏ô‡πÜ"})[l]||l,de=l=>{if(!l)return[];const s={‡∏™‡∏∏‡∏ô‡∏±‡∏Ç:"dog",‡∏´‡∏°‡∏≤:"dog",dog:"dog",‡πÅ‡∏°‡∏ß:"cat",cat:"cat",‡∏ô‡∏Å:"bird",bird:"bird",‡∏õ‡∏•‡∏≤:"fish",fish:"fish",‡∏Å‡∏£‡∏∞‡∏ï‡πà‡∏≤‡∏¢:"rabbit",rabbit:"rabbit",‡πÅ‡∏Æ‡∏°‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå:"hamster",hamster:"hamster"},b=v=>v?v.replace(/\d+/g,"").replace(/‡∏ï‡∏±‡∏ß/g,"").replace(/‡∏à‡∏≥‡∏ô‡∏ß‡∏ô/g,"").replace(/\s+/g," ").trim().toLowerCase():"";return l.split(",").map(v=>v.trim()).filter(Boolean).flatMap(v=>{const _=v.match(/(\d+)/),Z=_?Math.max(1,parseInt(_[1],10)):1,W=b(v),J=s[W]||"other";return Array(Z).fill(J)})},me=l=>{const s=Array.isArray(l)?l:l?.petTypes||[];if(!s||s.length===0)return"";const b=s.reduce((v,_)=>(v[_]=(v[_]||0)+1,v),{});return Object.entries(b).map(([v,_])=>`${Q(v)} ${_} ‡∏ï‡∏±‡∏ß`).join(", ")};return w?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pink-500"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå..."})]}):r?(console.log("UserProfile render - editMode:",I,"isOwnProfile:",a),e.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[e.jsxs(ee,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"w-20 h-20 rounded-full bg-gradient-to-r from-pink-500 to-violet-500 flex items-center justify-center text-white text-2xl font-bold",children:[r.profileImages&&r.profileImages.length>0?e.jsx("img",{src:`http://localhost:5000/uploads/profiles/${r.profileImages[0]}`,alt:"Profile",className:"w-20 h-20 rounded-full object-cover",onError:l=>{l.target.style.display="none",l.target.nextSibling.style.display="flex"}}):null,e.jsx("div",{className:`w-20 h-20 rounded-full bg-gradient-to-r from-pink-500 to-violet-500 flex items-center justify-center text-white text-2xl font-bold ${r.profileImages&&r.profileImages.length>0?"hidden":""}`,children:e.jsx(ss,{className:"h-10 w-10"})})]}),r.membership&&e.jsx("div",{className:`absolute -bottom-1 -right-1 w-8 h-8 rounded-full bg-gradient-to-r ${E.getTierGradient(r.membership.tier)} flex items-center justify-center text-white text-xs shadow-lg`,children:E.getTierIcon(r.membership.tier)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:r.displayName||`${r.firstName} ${r.lastName}`}),r.nickname&&e.jsxs("span",{className:"text-gray-500",children:["(",r.nickname,")"]}),r.isVerified&&e.jsxs(re,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[e.jsx(hs,{className:"h-3 w-3 mr-1"}),"‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß"]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Pe,{className:"h-4 w-4 mr-1"}),u(r.dateOfBirth)," ‡∏õ‡∏µ"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(ve,{className:"h-4 w-4 mr-1"}),r.location]}),r.membership&&e.jsxs(re,{className:`bg-gradient-to-r ${E.getTierGradient(r.membership.tier)} text-white`,children:[e.jsx(fe,{className:"h-3 w-3 mr-1"}),E.getTierName(r.membership.tier)]})]})]})]}),a&&sessionStorage.getItem("token")&&e.jsxs(k,{onClick:B,variant:"outline",size:"sm",children:[e.jsx(Ys,{className:"h-4 w-4 mr-2"}),"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå"]})]}),r.bio&&e.jsx("div",{className:"mb-6",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.bio})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Xs,{className:"h-5 w-5 mr-2 text-pink-500"}),"‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û",O&&e.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",r.profileImages?r.profileImages.length:0,"/",O.limits.dailyImages===-1?"‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î":O.limits.dailyImages,")"]})]}),a&&sessionStorage.getItem("token")&&e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:m,className:"hidden",id:"image-upload"}),e.jsxs(k,{onClick:()=>document.getElementById("image-upload").click(),disabled:T,size:"sm",variant:"outline",children:[T?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-pink-500 border-t-transparent rounded-full mr-2"}):e.jsx(Ks,{className:"h-4 w-4 mr-2"}),"‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ"]})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:r.profileImages&&r.profileImages.map((l,s)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:`http://localhost:5000/uploads/profiles/${l}`,alt:`Profile ${s+1}`,className:"w-full h-32 object-cover rounded-lg",onError:b=>{b.target.style.display="none",b.target.parentElement.innerHTML=`
                      <div class="w-full h-32 bg-gray-200 rounded-lg flex items-center justify-center">
                        <span class="text-gray-500 text-sm">‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏î‡πâ</span>
                      </div>
                    `}}),a&&sessionStorage.getItem("token")&&e.jsx("button",{onClick:()=>p(s),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(oe,{className:"h-3 w-3"})})]},s))})]})]}),e.jsxs(He,{defaultValue:"basic",className:"w-full",children:[e.jsxs(Re,{className:"grid w-full grid-cols-4 bg-white border rounded-lg p-1 text-gray-700 shadow-sm",children:[e.jsx(te,{value:"basic",className:"text-gray-700 data-[state=active]:bg-pink-50 data-[state=active]:text-pink-600",children:"‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô"}),e.jsx(te,{value:"lifestyle",className:"text-gray-700 data-[state=active]:bg-pink-50 data-[state=active]:text-pink-600",children:"‡πÑ‡∏•‡∏ü‡πå‡∏™‡πÑ‡∏ï‡∏•‡πå"}),e.jsx(te,{value:"interests",className:"text-gray-700 data-[state=active]:bg-pink-50 data-[state=active]:text-pink-600",children:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ô‡πÉ‡∏à"}),e.jsx(te,{value:"prompts",className:"text-gray-700 data-[state=active]:bg-pink-50 data-[state=active]:text-pink-600",children:"‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏©"})]}),e.jsx(ae,{value:"basic",className:"space-y-4",children:e.jsxs(ee,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(ss,{className:"h-5 w-5 mr-2 text-blue-500"}),"‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(et,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"‡∏≠‡∏≤‡∏ä‡∏µ‡∏û"}),e.jsx("p",{className:"text-sm text-gray-600",children:r.occupation?.job||"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏ö‡∏∏"}),r.occupation?.company&&e.jsx("p",{className:"text-sm text-gray-600",children:r.occupation.company})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(st,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"‡∏à‡∏ö‡∏™‡∏ñ‡∏≤‡∏ö‡∏±‡∏ô‡∏®‡∏∂‡∏Å‡∏©‡∏≤"}),e.jsx("p",{className:"text-sm text-gray-600",children:r.education?.institution||"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏ö‡∏∏"}),r.education?.level&&e.jsxs("p",{className:"text-xs text-gray-500",children:["‡∏£‡∏∞‡∏î‡∏±‡∏ö: ",f(r.education.level)]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(tt,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢"}),e.jsx("p",{className:"text-sm text-gray-600",children:r.physicalAttributes?.height||r.physicalAttributes?.weight?e.jsxs(e.Fragment,{children:[r.physicalAttributes?.height?`${r.physicalAttributes.height} ‡∏ã‡∏°.`:"",r.physicalAttributes?.height&&r.physicalAttributes?.weight?" / ":"",r.physicalAttributes?.weight?`${r.physicalAttributes.weight} ‡∏Å‡∏Å.`:""]}):"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏ö‡∏∏"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(at,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"‡∏®‡∏≤‡∏™‡∏ô‡∏≤"}),e.jsx("p",{className:"text-sm text-gray-600",children:r.religion?A(r.religion):"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏ö‡∏∏"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(rt,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"‡∏†‡∏≤‡∏©‡∏≤"}),e.jsx("p",{className:"text-sm text-gray-600",children:Array.isArray(r.languages)&&r.languages.length>0?r.languages.join(", "):"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏ö‡∏∏"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(lt,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á"}),e.jsx("p",{className:"text-sm text-gray-600",children:(()=>{const l=Array.isArray(r.pets)?r.pets:r.pets?.petTypes||[];if(!l||l.length===0)return"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏ö‡∏∏";const s=l.reduce((b,v)=>(b[v]=(b[v]||0)+1,b),{});return Object.entries(s).map(([b,v])=>`${Q(b)} ${v} ‡∏ï‡∏±‡∏ß`).join(", ")})()})]})]})]})]})}),e.jsx(ae,{value:"lifestyle",className:"space-y-4",children:e.jsxs(ee,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(he,{className:"h-5 w-5 mr-2 text-green-500"}),"‡πÑ‡∏•‡∏ü‡πå‡∏™‡πÑ‡∏ï‡∏•‡πå"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(it,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà"}),e.jsx("p",{className:"text-sm text-gray-600",children:r.lifestyle?.smoking?H("smoking",r.lifestyle.smoking):"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏ö‡∏∏"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(nt,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"‡∏Å‡∏≤‡∏£‡∏î‡∏∑‡πà‡∏°‡∏™‡∏∏‡∏£‡∏≤"}),e.jsx("p",{className:"text-sm text-gray-600",children:r.lifestyle?.drinking?H("drinking",r.lifestyle.drinking):"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏ö‡∏∏"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ot,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢"}),e.jsx("p",{className:"text-sm text-gray-600",children:r.lifestyle?.exercise?H("exercise",r.lifestyle.exercise):"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏ö‡∏∏"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ct,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"‡∏≠‡∏≤‡∏´‡∏≤‡∏£"}),e.jsx("p",{className:"text-sm text-gray-600",children:r.lifestyle?.diet?H("diet",r.lifestyle.diet):"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏ö‡∏∏"})]})]})]})]})}),e.jsx(ae,{value:"interests",className:"space-y-4",children:e.jsxs(ee,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(pe,{className:"h-5 w-5 mr-2 text-yellow-500"}),"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ô‡πÉ‡∏à"]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:[{key:"sports",label:"‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö",testData:"‡∏î‡∏π‡∏´‡∏ô‡∏±‡∏á, ‡∏ü‡∏±‡∏á‡πÄ‡∏û‡∏•‡∏á, ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°"},{key:"music",label:"‡πÄ‡∏û‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö",testData:"Hello Goodbye - The Beatles"},{key:"movies",label:"‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö",testData:"Interstellar, Oppenheimer"}].map(l=>{const b=sessionStorage.getItem(`interest_${l.key}`)||""||l.testData||"";return e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:l.label}),e.jsx("div",{className:"text-sm text-gray-600",children:b?b.includes(",")?e.jsx("div",{className:"space-y-1",children:b.split(",").map((v,_)=>e.jsx("div",{className:"inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded-md mr-2 mb-1",children:v.trim()},_))}):e.jsx("p",{children:b}):e.jsx("p",{className:"text-gray-500",children:"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏ö‡∏∏"})})]},l.key)})})]})}),e.jsx(ae,{value:"prompts",className:"space-y-4",children:e.jsxs(ee,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(ge,{className:"h-5 w-5 mr-2 text-green-500"}),"‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏©"]}),e.jsx("div",{className:"space-y-4",children:["my_special_talent","way_to_win_my_heart","dream_destination","last_laugh_until_tears","perfect_first_date","life_motto","favorite_memory","biggest_fear","dream_job","guilty_pleasure"].map(l=>{const s={my_special_talent:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠...",way_to_win_my_heart:"‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏ô‡∏∞‡πÉ‡∏à‡∏â‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠...",dream_destination:"‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ô‡∏ù‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏õ‡∏Ñ‡∏∑‡∏≠...",last_laugh_until_tears:"‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏´‡∏±‡∏ß‡πÄ‡∏£‡∏≤‡∏∞‡∏à‡∏ô‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡πÑ‡∏´‡∏•‡∏Ñ‡∏∑‡∏≠...",perfect_first_date:"‡πÄ‡∏î‡∏ó‡πÅ‡∏£‡∏Å‡πÉ‡∏ô‡∏ù‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠...",life_motto:"‡∏Ñ‡∏ï‡∏¥‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠...",favorite_memory:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏ó‡∏µ‡πà‡∏ä‡∏∑‡πà‡∏ô‡∏ä‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ñ‡∏∑‡∏≠...",biggest_fear:"‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏•‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ñ‡∏∑‡∏≠...",dream_job:"‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏ù‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠...",guilty_pleasure:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö‡∏ó‡∏≥‡∏Ñ‡∏∑‡∏≠..."},b=(r.promptAnswers||[]).find(v=>v.question===l);return e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:s[l]}),e.jsx("p",{className:"text-gray-600",children:b?.answer||"‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏≠‡∏ö"})]},l)})})]})})]}),e.jsx(_e,{open:I,onOpenChange:l=>{console.log("Dialog onOpenChange called with:",l),console.log("Current editData:",c),j(l)},children:e.jsxs(ye,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(we,{children:[e.jsx(ke,{children:"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå"}),e.jsx(Ce,{children:"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-lg text-blue-600 flex items-center",children:"üìã ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(C,{htmlFor:"nickname",children:"‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô"}),e.jsx(z,{id:"nickname",value:c.nickname||"",onChange:l=>h({...c,nickname:l.target.value}),placeholder:"‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô"})]}),e.jsxs("div",{children:[e.jsx(C,{htmlFor:"location",children:"‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà (‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î/‡πÄ‡∏°‡∏∑‡∏≠‡∏á)"}),e.jsx(z,{id:"location",value:c.location||"",onChange:l=>h({...c,location:l.target.value}),placeholder:"‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø, ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(C,{htmlFor:"job",children:"‡∏≠‡∏≤‡∏ä‡∏µ‡∏û"}),e.jsx(z,{id:"job",value:c.occupation?.job||"",onChange:l=>h({...c,occupation:{...c.occupation||{},job:l.target.value}}),placeholder:"‡∏≠‡∏≤‡∏ä‡∏µ‡∏û"})]}),e.jsxs("div",{children:[e.jsx(C,{htmlFor:"education_level",children:"‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤"}),e.jsxs("select",{id:"education_level",value:c.education?.level||"",onChange:l=>h({...c,education:{...c.education||{},level:l.target.value}}),className:"w-full p-3 border rounded-lg",children:[e.jsx("option",{value:"",children:"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤"}),e.jsx("option",{value:"high_school",children:"‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤"}),e.jsx("option",{value:"bachelor",children:"‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ"}),e.jsx("option",{value:"master",children:"‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÇ‡∏ó"}),e.jsx("option",{value:"phd",children:"‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡πÄ‡∏≠‡∏Å"}),e.jsx("option",{value:"vocational",children:"‡∏≠‡∏≤‡∏ä‡∏µ‡∏ß‡∏®‡∏∂‡∏Å‡∏©‡∏≤"}),e.jsx("option",{value:"other",children:"‡∏≠‡∏∑‡πà‡∏ô‡πÜ"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(C,{htmlFor:"height",children:"‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á (‡∏ã‡∏°.)"}),e.jsx(z,{id:"height",type:"number",value:c.physicalAttributes?.height||"",onChange:l=>h({...c,physicalAttributes:{...c.physicalAttributes||{},height:l.target.value}}),placeholder:"‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á"})]}),e.jsxs("div",{children:[e.jsx(C,{htmlFor:"weight",children:"‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å (‡∏Å‡∏Å.)"}),e.jsx(z,{id:"weight",type:"number",value:c.physicalAttributes?.weight||"",onChange:l=>h({...c,physicalAttributes:{...c.physicalAttributes||{},weight:l.target.value}}),placeholder:"‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(C,{htmlFor:"institution",children:"‡∏™‡∏ñ‡∏≤‡∏ö‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤"}),e.jsx(z,{id:"institution",value:c.education?.institution||"",onChange:l=>h({...c,education:{...c.education||{},institution:l.target.value}}),placeholder:"‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏ñ‡∏≤‡∏ö‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤"})]}),e.jsxs("div",{children:[e.jsx(C,{htmlFor:"languages",children:"‡∏†‡∏≤‡∏©‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏π‡∏î‡πÑ‡∏î‡πâ"}),e.jsx(z,{id:"languages",value:c.languages?.join(", ")||"",onChange:l=>h({...c,languages:l.target.value.split(",").map(s=>s.trim()).filter(s=>s)}),placeholder:"‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡πÑ‡∏ó‡∏¢, ‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©, ‡∏à‡∏µ‡∏ô"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(C,{htmlFor:"religion",children:"‡∏®‡∏≤‡∏™‡∏ô‡∏≤"}),e.jsxs("select",{id:"religion",value:c.religion||"",onChange:l=>h({...c,religion:l.target.value}),className:"w-full p-3 border rounded-lg",children:[e.jsx("option",{value:"",children:"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏®‡∏≤‡∏™‡∏ô‡∏≤"}),e.jsx("option",{value:"buddhist",children:"‡∏û‡∏∏‡∏ó‡∏ò"}),e.jsx("option",{value:"christian",children:"‡∏Ñ‡∏£‡∏¥‡∏™‡∏ï‡πå"}),e.jsx("option",{value:"muslim",children:"‡∏≠‡∏¥‡∏™‡∏•‡∏≤‡∏°"}),e.jsx("option",{value:"hindu",children:"‡∏Æ‡∏¥‡∏ô‡∏î‡∏π"}),e.jsx("option",{value:"other",children:"‡∏≠‡∏∑‡πà‡∏ô‡πÜ"}),e.jsx("option",{value:"none",children:"‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏®‡∏≤‡∏™‡∏ô‡∏≤"})]})]}),e.jsxs("div",{children:[e.jsx(C,{htmlFor:"pets",children:"‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á"}),e.jsx(z,{id:"pets",value:q,onChange:l=>{const s=l.target.value;L(s),h({...c,pets:de(s)})},placeholder:"‡πÅ‡∏°‡∏ß 1 ‡∏ï‡∏±‡∏ß, ‡∏™‡∏ô‡∏∏‡∏Å 1 ‡∏ï‡∏±‡∏ß"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-lg text-indigo-600 flex items-center",children:"üí¨ ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏â‡∏±‡∏ô"}),e.jsxs("div",{children:[e.jsx(C,{htmlFor:"bio",children:"Bio / About Me"}),e.jsx("textarea",{id:"bio",value:c.bio||"",onChange:l=>h({...c,bio:l.target.value}),placeholder:"‡πÄ‡∏•‡πà‡∏≤‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á... ‡∏à‡∏∏‡∏î‡πÄ‡∏î‡πà‡∏ô ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö‡∏ó‡∏≥ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≠‡∏á‡∏´‡∏≤",className:"w-full p-3 border rounded-lg resize-none h-32",maxLength:1e3}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[c.bio?.length||0,"/1000 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-lg text-green-600 flex items-center",children:"üåü ‡πÑ‡∏•‡∏ü‡πå‡∏™‡πÑ‡∏ï‡∏•‡πå"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(C,{htmlFor:"smoking",children:"‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà"}),e.jsxs("select",{id:"smoking",value:c.lifestyle?.smoking||"",onChange:l=>h({...c,lifestyle:{...c.lifestyle||{},smoking:l.target.value}}),className:"w-full p-3 border rounded-lg",children:[e.jsx("option",{value:"",children:"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å"}),e.jsx("option",{value:"never",children:"‡πÑ‡∏°‡πà‡∏™‡∏π‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà"}),e.jsx("option",{value:"regularly",children:"‡∏™‡∏π‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà"}),e.jsx("option",{value:"occasionally",children:"‡∏™‡∏π‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏≤‡∏ß"}),e.jsx("option",{value:"trying_to_quit",children:"‡πÄ‡∏•‡∏¥‡∏Å‡∏™‡∏π‡∏ö‡πÅ‡∏•‡πâ‡∏ß"})]})]}),e.jsxs("div",{children:[e.jsx(C,{htmlFor:"drinking",children:"‡∏Å‡∏≤‡∏£‡∏î‡∏∑‡πà‡∏°‡∏™‡∏∏‡∏£‡∏≤"}),e.jsxs("select",{id:"drinking",value:c.lifestyle?.drinking||"",onChange:l=>h({...c,lifestyle:{...c.lifestyle||{},drinking:l.target.value}}),className:"w-full p-3 border rounded-lg",children:[e.jsx("option",{value:"",children:"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å"}),e.jsx("option",{value:"never",children:"‡πÑ‡∏°‡πà‡∏î‡∏∑‡πà‡∏°‡∏™‡∏∏‡∏£‡∏≤"}),e.jsx("option",{value:"regularly",children:"‡∏î‡∏∑‡πà‡∏°‡∏™‡∏∏‡∏£‡∏≤"}),e.jsx("option",{value:"socially",children:"‡∏î‡∏∑‡πà‡∏°‡πÉ‡∏ô‡∏á‡∏≤‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏°"}),e.jsx("option",{value:"occasionally",children:"‡∏î‡∏∑‡πà‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏≤‡∏ß"})]})]}),e.jsxs("div",{children:[e.jsx(C,{htmlFor:"exercise",children:"‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢"}),e.jsxs("select",{id:"exercise",value:c.lifestyle?.exercise||"",onChange:l=>h({...c,lifestyle:{...c.lifestyle||{},exercise:l.target.value}}),className:"w-full p-3 border rounded-lg",children:[e.jsx("option",{value:"",children:"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å"}),e.jsx("option",{value:"daily",children:"‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô"}),e.jsx("option",{value:"regularly",children:"‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠"}),e.jsx("option",{value:"sometimes",children:"‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏≤‡∏ß"}),e.jsx("option",{value:"rarely",children:"‡πÅ‡∏ó‡∏ö‡πÑ‡∏°‡πà‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢"}),e.jsx("option",{value:"never",children:"‡πÑ‡∏°‡πà‡∏Ñ‡πà‡∏≠‡∏¢‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢"})]})]}),e.jsxs("div",{children:[e.jsx(C,{htmlFor:"diet",children:"‡∏≠‡∏≤‡∏´‡∏≤‡∏£"}),e.jsxs("select",{id:"diet",value:c.lifestyle?.diet||"",onChange:l=>h({...c,lifestyle:{...c.lifestyle||{},diet:l.target.value}}),className:"w-full p-3 border rounded-lg",children:[e.jsx("option",{value:"",children:"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å"}),e.jsx("option",{value:"omnivore",children:"‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ"}),e.jsx("option",{value:"vegetarian",children:"‡∏°‡∏±‡∏á‡∏™‡∏ß‡∏¥‡∏£‡∏±‡∏ï‡∏¥"}),e.jsx("option",{value:"vegan",children:"‡∏ß‡∏µ‡πÅ‡∏Å‡∏ô"}),e.jsx("option",{value:"other",children:"‡∏≠‡∏∑‡πà‡∏ô‡πÜ"})]})]})]})]}),e.jsxs("div",{className:"space-y-2 mt-6",children:[e.jsx("h4",{className:"font-semibold text-lg text-orange-600 flex items-center",children:"üéØ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ô‡πÉ‡∏à"}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:[{key:"sports",label:"‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö"},{key:"music",label:"‡πÄ‡∏û‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö"},{key:"movies",label:"‡∏´‡∏ô‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö"}].map(l=>{const s=Array.isArray(c.interests)?c.interests:[],b=s.find(Z=>Z.category===l.key),v=sessionStorage.getItem(`interest_${l.key}`)||"",_=b?.description||v||"";return e.jsxs("div",{children:[e.jsx(C,{htmlFor:`interest-${l.key}`,children:l.label}),e.jsx(z,{id:`interest-${l.key}`,value:_,onChange:Z=>{const W=Z.target.value;W.trim()?sessionStorage.setItem(`interest_${l.key}`,W):sessionStorage.removeItem(`interest_${l.key}`);const J=[...s],se=J.findIndex(Se=>Se.category===l.key);W.trim()===""?se!==-1&&J.splice(se,1):se===-1?J.push({category:l.key,description:W}):J[se]={...J[se],description:W},h({...c,interests:J})},placeholder:l.key==="sports"?"‡∏î‡∏π‡∏´‡∏ô‡∏±‡∏á, ‡∏ü‡∏±‡∏á‡πÄ‡∏û‡∏•‡∏á, ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°":l.key==="music"?"‡πÄ‡∏û‡∏•‡∏á‡πÇ‡∏õ‡∏£‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì....":"‡∏´‡∏ô‡∏±‡∏á‡πÇ‡∏õ‡∏£‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠...."})]},l.key)})})]}),e.jsxs("div",{className:"space-y-4 mt-6",children:[e.jsx("h4",{className:"font-bold text-xl text-purple-600 flex items-center",children:"‚ú® ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏© ‚≠ê"}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:["my_special_talent","way_to_win_my_heart","dream_destination","last_laugh_until_tears","perfect_first_date","life_motto","favorite_memory","biggest_fear","dream_job","guilty_pleasure"].map(l=>{const s=Array.isArray(c.promptAnswers)?c.promptAnswers:[],v=s.find(_=>_.question===l)?.answer||"";return e.jsxs("div",{children:[e.jsx(C,{htmlFor:`prompt-${l}`,children:as.getPromptQuestionLabel(l)}),e.jsx(z,{id:`prompt-${l}`,value:v,onChange:_=>{const Z=_.target.value,W=[...s],J=W.findIndex(se=>se.question===l);Z.trim()===""?J!==-1&&W.splice(J,1):J===-1?W.push({question:l,answer:Z}):W[J]={...W[J],answer:Z},h({...c,promptAnswers:W})},placeholder:`‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°: ${as.getPromptQuestionLabel(l)}`})]},l)})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx(k,{variant:"outline",onClick:o,children:"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å"}),e.jsxs(k,{onClick:M,disabled:d,className:"bg-gradient-to-r from-pink-500 to-violet-500 text-white",children:[d?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}):e.jsx(dt,{className:"h-4 w-4 mr-2"}),d?"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...":"‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å"]})]})]})]})})]})):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå"})})},Jt=({currentUser:t,onSelectRoom:a,onCreatePrivateRoom:r})=>{const[N,w]=i.useState([]),[R,I]=i.useState(!0),[j,c]=i.useState(""),[h,d]=i.useState("all"),[$,T]=i.useState({}),[S,O]=i.useState(0);i.useEffect(()=>{D()},[h]),i.useEffect(()=>{N.length>0&&q()},[N]);const D=async()=>{try{I(!0);const m=await(await fetch(`http://localhost:5000/api/chatroom?type=${h}&search=${j}`,{credentials:"include"})).json();m.success&&w(m.data.chatRooms)}catch(o){console.error("Error fetching chat rooms:",o)}finally{I(!1)}},q=async()=>{try{const o={};for(const p of N)try{const f=await fetch(`http://localhost:5000/api/chatroom/${p.id}/online-users?userId=${t._id}`,{credentials:"include"});if(f.ok){const A=await f.json();A.success?o[p.id]=A.data.onlineCount:o[p.id]=0}else f.status,o[p.id]=0}catch(f){console.error(`Error fetching online users for room ${p.id}:`,f),o[p.id]=0}T(o);const m=Object.values(o).reduce((p,f)=>p+f,0);O(m)}catch(o){console.error("Error fetching online users:",o)}},L=async o=>{if(o.type==="private"&&!g(t.membership?.tier||"member")){alert("‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å Gold ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏ä‡∏ó‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß");return}if(o.type==="public"){a(o.id);return}if(o.type==="private"&&!M(o))try{const p=await(await fetch(`http://localhost:5000/api/chatroom/${o.id}/join`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userId:t._id})})).json();p.success?(D(),a(o.id)):alert(p.message)}catch(m){console.error("Error joining room:",m),alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó")}else a(o.id)},X=o=>{const m={member:{canAccessPrivateChat:!1},silver:{canAccessPrivateChat:!1},gold:{canAccessPrivateChat:!0},vip:{canAccessPrivateChat:!0},vip1:{canAccessPrivateChat:!0},vip2:{canAccessPrivateChat:!0},diamond:{canAccessPrivateChat:!0},platinum:{canAccessPrivateChat:!0}};return m[o]||m.member},g=o=>X(o).canAccessPrivateChat,u=o=>o==="platinum"||o==="diamond"||o==="vip1"||o==="vip2",P=o=>{const m={member:"bg-gray-100 text-gray-800",silver:"bg-gray-200 text-gray-900",gold:"bg-yellow-100 text-yellow-800",vip:"bg-purple-100 text-purple-800",vip1:"bg-purple-200 text-purple-900",vip2:"bg-purple-300 text-purple-900",diamond:"bg-blue-100 text-blue-800",platinum:"bg-indigo-100 text-indigo-800"};return m[o]||m.member},F=o=>{if(!o)return"‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏";try{const m=new Date,p=new Date(o),f=Math.floor((m-p)/(1e3*60));return f<1?"‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà":f<60?`${f} ‡∏ô‡∏≤‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß`:f<1440?`${Math.floor(f/60)} ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß`:`${Math.floor(f/1440)} ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß`}catch{return"‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏"}},M=o=>o.owner?.id===t._id||o.members&&o.members.some(m=>m?.user===t._id),B=N.filter(o=>o.name.toLowerCase().includes(j.toLowerCase())||o.description?.toLowerCase().includes(j.toLowerCase()));return R?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó..."})]})}):e.jsxs("div",{className:"h-[600px] flex flex-col bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-pink-500 to-violet-500 text-white p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó"}),e.jsxs("div",{className:"flex items-center space-x-1 bg-white/20 px-2 py-1 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsxs("span",{className:"text-sm font-medium",children:[S," ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[u(t.membership?.tier||"member")&&e.jsxs("button",{onClick:r,className:"flex items-center space-x-1 bg-white/20 hover:bg-white/30 text-white px-3 py-1 rounded-lg text-sm transition-colors",children:[e.jsx(mt,{className:"h-4 w-4"}),e.jsx("span",{children:"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß"})]}),e.jsxs("div",{className:"text-sm text-right",children:[e.jsxs("div",{children:["‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å: ",t.membership?.tier?.toUpperCase()||"MEMBER"]}),e.jsx("div",{className:"text-xs opacity-80",children:g(t.membership?.tier||"member")?"‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏ä‡∏ó‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡πÑ‡∏î‡πâ":"‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÅ‡∏ä‡∏ó‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞"})]})]})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(xt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-white/70"}),e.jsx("input",{type:"text",placeholder:"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó...",value:j,onChange:o=>c(o.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/20 border border-white/30 rounded-lg text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),e.jsx("div",{className:"flex space-x-2",children:[{key:"all",label:"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"},{key:"public",label:"‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞"},...g(t.membership?.tier||"member")?[{key:"private",label:"‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß"}]:[]].map(o=>e.jsx("button",{onClick:()=>d(o.key),className:`px-3 py-1 rounded-lg text-xs transition-all ${h===o.key?"bg-white text-pink-600 font-medium":"text-white/80 hover:text-white hover:bg-white/20"}`,children:o.label},o.key))})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:B.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ge,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó"}),e.jsx("p",{className:"text-sm text-gray-400",children:"‡∏•‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏≠‡∏∑‡πà‡∏ô"})]}):B.map(o=>{const m=o.type==="public"||o.type==="private"&&g(t.membership?.tier||"member");return e.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg p-4 transition-shadow cursor-pointer group ${m?"hover:shadow-md":"opacity-60 cursor-not-allowed"}`,onClick:()=>m?L(o):null,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[o.type==="public"?e.jsx(ht,{className:"h-4 w-4 text-green-500"}):e.jsx(De,{className:"h-4 w-4 text-orange-500"}),e.jsx("h3",{className:`font-semibold transition-colors ${m?"text-gray-900 group-hover:text-pink-600":"text-gray-500"}`,children:o.name})]}),e.jsx(re,{variant:"outline",className:`text-xs ${o.type==="public"?"border-green-200 text-green-700":"border-orange-200 text-orange-700"}`,children:o.type==="public"?"‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞":"‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß"}),(o.entryFee||0)>0&&e.jsxs(re,{className:"text-xs bg-yellow-100 text-yellow-800",children:[o.entryFee," ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç"]})]}),o.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:o.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ue,{className:"h-3 w-3"}),e.jsxs("span",{children:[o.memberCount||0," ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsxs("span",{className:"text-green-600 font-medium",children:[$[o.id]||0," ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ge,{className:"h-3 w-3"}),e.jsxs("span",{children:[o.stats?.totalMessages||0," ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(gt,{className:"h-3 w-3"}),e.jsx("span",{children:F(o.lastActivity)})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(Qe,{className:"w-6 h-6",children:[e.jsx(Je,{src:o.owner?.profileImages?.[0],alt:o.owner?.displayName||"Unknown"}),e.jsx(Ze,{className:"bg-gradient-to-r from-pink-400 to-violet-400 text-white text-xs",children:(o.owner?.displayName||o.owner?.username||"U").charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xs font-medium text-gray-700 flex items-center",children:[e.jsx(fe,{className:"h-3 w-3 text-yellow-500 mr-1"}),o.owner?.displayName||o.owner?.username||"Unknown User"]}),e.jsx(re,{className:`text-xs ${P(o.owner?.membershipTier)}`,children:o.owner?.membershipTier?.toUpperCase()||"MEMBER"})]})]}),e.jsx("div",{className:"text-right",children:m?e.jsx("div",{className:"text-xs text-green-600 font-medium",children:o.type==="public"||M(o)?"‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏ä‡∏ó":"‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°"}):e.jsx("div",{className:"text-xs text-gray-500",children:"‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å Gold+"})})]})]}),o.ageRestriction&&e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-2 border-t border-gray-100",children:[e.jsxs("span",{children:["‡∏≠‡∏≤‡∏¢‡∏∏: ",o.ageRestriction?.minAge||18,"-",o.ageRestriction?.maxAge||100," ‡∏õ‡∏µ"]}),o.stats?.totalCoinsReceived>0&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(pe,{className:"h-3 w-3 text-yellow-500 mr-1"}),o.stats.totalCoinsReceived," ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç"]})]})]},o.id)})})]})},Zt=({roomId:t,currentUser:a,onBack:r})=>{const[N,w]=i.useState(null),[R,I]=i.useState([]),[j,c]=i.useState(""),[h,d]=i.useState(!1),[$,T]=i.useState([]),[S,O]=i.useState(null),[D,q]=i.useState(null),[L,X]=i.useState(null),[g,u]=i.useState([]),[P,F]=i.useState(0),[M,B]=i.useState(null),[o,m]=i.useState(null),[p,f]=i.useState(!1),[A,H]=i.useState({show:!1,src:"",alt:""}),[Q,de]=i.useState(!1),me=i.useRef(null),l=i.useRef(null),s=i.useRef(null),b=i.useRef(null);i.useEffect(()=>{const n=ut("http://localhost:5000",{withCredentials:!0,timeout:2e4,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});return n.on("connect",()=>{console.log("Connected to server"),d(!0),n.emit("join-room",{roomId:t,userId:a._id})}),n.on("error",x=>{console.error("Server error:",x),x.message==="Unauthorized to join this private room"?alert("‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ"):x.message==="Daily chat limit reached"?alert("‡∏Ñ‡∏∏‡∏ì‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏£‡∏ö‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÅ‡∏•‡πâ‡∏ß"):x.message==="‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏Å‡∏î‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß"&&alert("‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏Å‡∏î‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß")}),n.on("disconnect",()=>{console.log("Disconnected from server"),d(!1)}),n.on("new-message",x=>{I(y=>[...y,x]),v()}),n.on("message-reaction-updated",x=>{I(y=>y.map(U=>{if(U._id===x.messageId){let G=U.reactions||[];if(x.action==="removed")G=G.filter(K=>!((K.user===x.userId||K.user._id===x.userId)&&K.type===x.reactionType));else if(x.action==="added")G.findIndex(be=>(be.user===x.userId||be.user._id===x.userId)&&be.type===x.reactionType)===-1&&G.push({user:x.userId,type:x.reactionType,createdAt:new Date});else if(x.action==="changed"){const K=G.findIndex(be=>be.user===x.userId);K!==-1&&(G[K].type=x.reactionType,G[K].createdAt=new Date)}return{...U,reactions:G,stats:x.stats}}return U}))}),n.on("user-typing",x=>{T(y=>y.find(U=>U.userId===x.userId)?y:[...y,x])}),n.on("user-stop-typing",x=>{T(y=>y.filter(U=>U.userId!==x.userId))}),n.on("online-count-updated",x=>{F(x.onlineCount),u(x.onlineUsers||[])}),n.on("error",x=>{console.error("Socket error:",x),x.message&&!x.message.includes("Unauthorized")&&console.log("Socket error details:",x)}),n.on("connect_error",x=>{console.error("Socket connection error:",x),d(!1)}),w(n),()=>{n.close()}},[t,a._id]),i.useEffect(()=>{(async()=>{try{const y=await(await fetch(`http://localhost:5000/api/messages/${t}?userId=${a._id}`,{credentials:"include"})).json();y.success&&I(y.data.messages)}catch(x){console.error("Error fetching messages:",x)}})()},[t,a._id]),i.useEffect(()=>{(async()=>{try{const y=await(await fetch(`http://localhost:5000/api/chatroom/${t}?userId=${a._id}`,{credentials:"include"})).json();y.success&&X(y.data)}catch(x){console.error("Error fetching room info:",x)}})()},[t,a._id]),i.useEffect(()=>{(async()=>{try{const y=await(await fetch(`http://localhost:5000/api/chatroom/${t}/online-users?userId=${a._id}`,{credentials:"include"})).json();y.success&&(u(y.data.onlineUsers),F(y.data.onlineCount))}catch(x){console.error("Error fetching online users:",x),u([]),F(0)}})()},[t,a._id]);const v=()=>{setTimeout(()=>{const n=document.querySelector(".messages-container");if(n){const x=n.scrollTop,y=n.scrollHeight,U=n.clientHeight;x+U>=y-200&&(n.scrollTop=n.scrollHeight)}},50)},_=()=>{!j.trim()||!N||(Z(a.membership?.tier||"member"),D?ys(D._id,j):(W(a.membership?.tier||"member"),N.emit("send-message",{content:j,senderId:a._id,chatRoomId:t,messageType:"text",replyToId:S?._id}),setTimeout(()=>{const n=document.querySelector(".messages-container");n&&(n.scrollTop=n.scrollHeight)},100)),c(""),O(null),q(null),l.current?.focus())},Z=n=>{const x={member:{dailyChats:5},silver:{dailyChats:15},gold:{dailyChats:50},vip:{dailyChats:100},vip1:{dailyChats:200},vip2:{dailyChats:500},diamond:{dailyChats:-1},platinum:{dailyChats:-1}};return x[n]||x.member},W=n=>Z(n).dailyChats===-1||!0,J=(n,x="heart")=>{if(!N)return;const y=R.find(G=>G._id===n),U=y&&y.reactions&&y.reactions.some(G=>(G.user===a._id||G.user._id===a._id)&&G.type===x);N.emit("react-message",{messageId:n,userId:a._id,reactionType:x,action:U?"remove":"add"})},se=n=>!n.reactions||!a._id?!1:n.reactions.some(x=>(x.user===a._id||x.user._id===a._id)&&x.type==="heart"),Se=n=>n.reactions?n.reactions.filter(x=>x.type==="heart").length:0,Ns=(n,x)=>!n.reactions||!a._id?!1:n.reactions.some(y=>(y.user===a._id||y.user._id===a._id)&&y.type===x),ys=async(n,x)=>{try{const U=await(await fetch(`http://localhost:5000/api/messages/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({content:x,userId:a._id})})).json();U.success?I(G=>G.map(K=>K._id===n?{...K,content:x,isEdited:!0,editedAt:new Date}:K)):alert(U.message)}catch(y){console.error("Error editing message:",y)}},ws=n=>{const x=n.target.files[0];if(x&&x.type.startsWith("image/")){B(x);const y=new FileReader;y.onload=U=>{m(U.target.result)},y.readAsDataURL(x)}},ks=async()=>{if(!M||!N)return;f(!0);const n=new FormData;n.append("file",M),n.append("senderId",a._id),n.append("chatRoomId",t);try{const y=await(await fetch("http://localhost:5000/api/chatroom/upload",{method:"POST",credentials:"include",body:n})).json();if(y.success){const U={content:"",senderId:a._id,chatRoomId:t,messageType:"image",fileUrl:y.data.fileUrl};N.emit("send-message",U),setTimeout(()=>{const G=document.querySelector(".messages-container");G&&(G.scrollTop=G.scrollHeight)},100),B(null),m(null),b.current&&(b.current.value="")}else alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û: "+(y.message||"‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏"))}catch(x){console.error("Error uploading image:",x),alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û")}finally{f(!1)}},Xe=()=>{B(null),m(null),b.current&&(b.current.value="")},Cs=n=>{c(x=>x+n),de(!1),l.current?.focus()},Ss=async n=>{const x=R.find(y=>y._id===n);if(x&&x.messageType==="image"){const y=new Date(x.createdAt);if((new Date-y)/1e3>3){alert("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏•‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ");return}}else if(!confirm("‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?"))return;try{const U=await(await fetch(`http://localhost:5000/api/messages/${n}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({userId:a._id})})).json();U.success?I(G=>G.filter(K=>K._id!==n)):alert(U.message)}catch(y){console.error("Error deleting message:",y)}},Is=()=>{N&&(N.emit("typing-start",{roomId:t,userId:a._id,username:a.displayName||a.username}),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{N.emit("typing-stop",{roomId:t,userId:a._id})},1e3))},Ts=n=>{const x={member:"bg-gray-100 text-gray-800",silver:"bg-gray-200 text-gray-900",gold:"bg-yellow-100 text-yellow-800",vip:"bg-purple-100 text-purple-800",vip1:"bg-purple-200 text-purple-900",vip2:"bg-purple-300 text-purple-900",diamond:"bg-blue-100 text-blue-800",platinum:"bg-indigo-100 text-indigo-800"};return x[n]||x.member},Ps=n=>new Date(n).toLocaleTimeString("th-TH",{hour:"2-digit",minute:"2-digit"}),Fs=n=>{if(n.messageType==="image"&&(n.imageUrl||n.fileUrl)){const x=n.imageUrl||n.fileUrl;return e.jsxs("div",{className:"space-y-2",children:[e.jsx("img",{src:x,alt:"Shared image",className:"max-w-48 max-h-48 object-cover rounded-lg cursor-pointer hover:opacity-90 transition-opacity shadow-sm",onClick:()=>{H({show:!0,src:x,alt:"Shared image"})},onError:y=>{console.error("Image failed to load:",x),y.target.style.display="none"}}),n.content&&e.jsx("div",{className:"text-sm",children:n.content})]})}return n.content},As=n=>{switch(n){case"heart":return e.jsx(he,{className:"h-3 w-3"});case"thumbsup":return e.jsx(Ct,{className:"h-3 w-3"});case"laugh":return e.jsx(kt,{className:"h-3 w-3"});case"angry":return e.jsx(wt,{className:"h-3 w-3"});case"sad":return e.jsx(yt,{className:"h-3 w-3"});default:return e.jsx(he,{className:"h-3 w-3"})}};return L?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col h-[600px] bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-violet-500 text-white p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(k,{variant:"ghost",size:"icon",onClick:r,className:"text-white hover:bg-white/20",children:e.jsx(Ue,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:L.name}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-white/90",children:[e.jsxs("span",{children:[L.memberCount," ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å"]}),e.jsx("span",{children:"‚Ä¢"}),e.jsxs("span",{className:`flex items-center ${h?"text-green-200":"text-red-200"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-1 ${h?"bg-green-200":"bg-red-200"}`}),h?"‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏•‡πâ‡∏ß":"‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm",children:[P," ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå"]}),e.jsx(k,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",children:e.jsx(pt,{className:"h-5 w-5"})})]})]})}),e.jsxs("div",{className:"messages-container flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[R.map((n,x)=>e.jsx("div",{className:`flex ${n.sender._id===a._id?"justify-end":"justify-start"} ${x%2===0?"bg-gray-50":"bg-white"} p-2 rounded-lg`,children:e.jsxs("div",{className:`flex max-w-[70%] ${n.sender._id===a._id?"flex-row-reverse":"flex-row"}`,children:[e.jsxs(Qe,{className:"w-8 h-8 mx-2",children:[e.jsx(Je,{src:n.sender.profileImages?.[0],alt:n.sender.displayName||n.sender.username}),e.jsx(Ze,{className:"bg-gradient-to-r from-pink-400 to-violet-400 text-white text-xs",children:(n.sender.displayName||n.sender.username).charAt(0).toUpperCase()})]}),e.jsxs("div",{className:`flex flex-col ${n.sender._id===a._id?"items-end":"items-start"}`,children:[e.jsxs("div",{className:`flex items-center space-x-2 mb-1 ${n.sender._id===a._id?"flex-row-reverse space-x-reverse":""}`,children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:n.sender.displayName||n.sender.username}),e.jsx(re,{className:`text-xs ${Ts(n.sender.membershipTier)}`,children:n.sender.membershipTier?.toUpperCase()||"MEMBER"}),e.jsx("span",{className:"text-xs text-gray-500",children:Ps(n.createdAt)})]}),n.replyTo&&e.jsxs("div",{className:"bg-gray-200 rounded-lg p-2 mb-2 text-sm max-w-full",children:[e.jsxs("div",{className:"text-gray-600 text-xs mb-1",children:["‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö ",n.replyTo.sender?.displayName||n.replyTo.sender?.username]}),e.jsx("div",{className:"text-gray-800 truncate",children:n.replyTo.content})]}),e.jsxs("div",{className:`relative rounded-2xl px-4 py-2 max-w-full break-words group ${n.sender._id===a._id?"bg-gray-100 text-black":"bg-white text-black shadow-sm border"}`,children:[Fs(n),n.isEdited&&e.jsx("div",{className:"text-xs opacity-70 mt-1",children:"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß"}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 pt-2 border-t border-gray-200",children:[e.jsxs("button",{onClick:()=>J(n._id,"heart"),disabled:se(n),className:`flex items-center space-x-1 text-xs transition-all duration-200 rounded-full px-2 py-1 ${se(n)?"bg-red-100 text-red-600 cursor-not-allowed":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:se(n)?"‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏Å‡∏î‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß":"‡∏Å‡∏î‡πÑ‡∏•‡∏Ñ‡πå",children:[e.jsx(he,{className:`h-4 w-4 ${se(n)?"fill-current text-red-600":"text-gray-600"}`}),e.jsx("span",{className:"font-medium",children:se(n)?"Liked":"Like"}),Se(n)>0&&e.jsxs("span",{className:"text-xs ml-1",children:["(",Se(n),")"]})]}),e.jsxs("button",{onClick:()=>O(n),className:"flex items-center space-x-1 text-xs text-black hover:text-blue-500 transition-colors",title:"‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏µ‡πâ",children:[e.jsx(ft,{className:"h-4 w-4"}),e.jsx("span",{children:"Reply"})]}),n.messageType==="image"&&n.sender._id===a._id&&(()=>{const y=new Date(n.createdAt),G=(new Date-y)/1e3;return G<=3?e.jsxs("button",{onClick:()=>Ss(n._id),className:"flex items-center space-x-1 text-xs text-red-500 hover:text-red-700 transition-colors",children:[e.jsx(jt,{className:"h-4 w-4"}),e.jsxs("span",{children:["‡∏•‡∏ö (",Math.ceil(3-G),"s)"]})]}):null})()]}),n.reactions&&n.reactions.length>0&&e.jsx("div",{className:"flex items-center flex-wrap gap-1 mt-2",children:Object.entries(n.reactions.reduce((y,U)=>(y[U.type]=(y[U.type]||0)+1,y),{})).map(([y,U])=>{const G=Ns(n,y);return e.jsxs("button",{onClick:()=>J(n._id,y),disabled:G,className:`flex items-center space-x-1 rounded-full px-2 py-1 text-xs transition-colors ${G?"bg-red-100 text-red-600 cursor-not-allowed":"bg-gray-100 hover:bg-gray-200 text-gray-600"}`,title:G?`‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏Å‡∏î ${y} ‡πÅ‡∏•‡πâ‡∏ß`:`‡∏Å‡∏î ${y}`,children:[e.jsx("div",{className:G?"text-red-600":"text-gray-600",children:As(y)}),e.jsx("span",{children:U})]},y)})})]})]})]})},n._id)),$.length>0&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),e.jsxs("span",{children:[$.map(n=>n.username).join(", ")," ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå..."]})]}),e.jsx("div",{ref:me})]}),(S||D)&&e.jsx("div",{className:"bg-blue-50 border-t border-blue-200 p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-blue-800",children:D?"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°":`‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö ${S?.sender?.displayName||S?.sender?.username}`}),e.jsx("div",{className:"text-sm text-blue-600 truncate",children:D?D.content:S?.content})]}),e.jsx(k,{size:"icon",variant:"ghost",onClick:()=>{O(null),q(null),c("")},className:"text-blue-600 hover:bg-blue-100",children:e.jsx(oe,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"border-t bg-white p-4",children:[o&&e.jsxs("div",{className:"mb-3 relative",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:o,alt:"Preview",className:"max-h-32 rounded-lg border"}),e.jsx("button",{onClick:Xe,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:e.jsx(oe,{className:"h-3 w-3"})})]}),e.jsxs("div",{className:"mt-2 flex space-x-2",children:[e.jsx(k,{onClick:ks,disabled:p,className:"bg-green-500 hover:bg-green-600 text-white text-sm",children:p?"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î...":"‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û"}),e.jsx(k,{onClick:Xe,variant:"outline",className:"text-sm",children:"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:ws,className:"hidden"}),e.jsx(k,{size:"icon",variant:"ghost",onClick:()=>b.current?.click(),className:"text-gray-500 hover:text-gray-700",title:"‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û",children:e.jsx(Me,{className:"h-5 w-5"})}),e.jsx(k,{size:"icon",variant:"ghost",onClick:()=>de(!Q),className:"text-gray-500 hover:text-gray-700",title:"‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏µ‡πÇ‡∏°‡∏à‡∏¥",children:e.jsx(bt,{className:"h-5 w-5"})}),e.jsx(k,{size:"icon",variant:"ghost",className:"text-gray-500 hover:text-gray-700",children:e.jsx(vt,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{ref:l,type:"text",value:j,onChange:n=>{c(n.target.value),Is()},onKeyPress:n=>{n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),_())},placeholder:D?"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°...":"‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°...",className:"w-full px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-transparent",disabled:!h}),Q&&e.jsx("div",{className:"absolute bottom-full left-0 mb-2 bg-white border border-gray-300 rounded-lg shadow-lg p-2 z-10",children:e.jsx("div",{className:"grid grid-cols-8 gap-1",children:["üòÄ","üòÉ","üòÑ","üòÅ","üòÜ","üòÖ","üòÇ","ü§£","üòä","üòá","üôÇ","üôÉ","üòâ","üòå","üòç","ü•∞","üòò","üòó","üòô","üòö","üòã","üòõ","üòù","üòú","ü§™","ü§®","üßê","ü§ì","üòé","ü§©","ü•≥","üòè","üòí","üòû","üòî","üòü","üòï","üôÅ","‚òπÔ∏è","üò£","üòñ","üò´","üò©","ü•∫","üò¢","üò≠","üò§","üò†","üò°","ü§¨","ü§Ø","üò≥","ü•µ","ü•∂","üò±","üò®","üò∞","üò•","üòì","ü§ó","ü§î","ü§≠","ü§´","ü§•","üò∂","üòê","üòë","üòØ","üò¶","üòß","üòÆ","üò≤","ü•±","üò¥","ü§§","üò™","üòµ","ü§ê","ü•¥","ü§¢","ü§Æ","ü§ß","üò∑","ü§í","ü§ï","ü§ë","ü§†","üí©","üëª","üíÄ","‚ò†Ô∏è","üëΩ","üëæ","ü§ñ","üò∫","üò∏","üòπ","üòª","üòº","üòΩ","üôÄ","üòø","üòæ"].map((n,x)=>e.jsx("button",{onClick:()=>Cs(n),className:"w-8 h-8 text-lg hover:bg-gray-100 rounded flex items-center justify-center transition-colors",title:n,children:n},x))})})]}),e.jsx(k,{onClick:_,disabled:!j.trim()&&!M||!h,className:"bg-gradient-to-r from-pink-500 to-violet-500 hover:from-pink-600 hover:to-violet-600 text-white rounded-full p-2 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Nt,{className:"h-5 w-5"})})]})]})]}),A.show&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-[9999]",onClick:()=>H({show:!1,src:"",alt:""}),children:e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[e.jsx("img",{src:A.src,alt:A.alt,className:"w-full h-full object-contain",onClick:n=>n.stopPropagation()}),e.jsx("button",{onClick:()=>H({show:!1,src:"",alt:""}),className:"absolute top-6 right-6 bg-black bg-opacity-70 text-white rounded-full p-3 hover:bg-opacity-90 transition-opacity z-10",children:e.jsx(oe,{className:"h-8 w-8"})})]})})]}):e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó..."})]})})},vs=i.forwardRef(({className:t,...a},r)=>e.jsx("textarea",{className:V("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...a}));vs.displayName="Textarea";const $e=i.forwardRef(({className:t,checked:a,onCheckedChange:r,...N},w)=>e.jsx("button",{type:"button",role:"switch","aria-checked":a,"data-state":a?"checked":"unchecked",className:V("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",a?"bg-primary":"bg-input",t),onClick:()=>r?.(!a),ref:w,...N,children:e.jsx("span",{className:V("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform",a?"translate-x-5":"translate-x-0")})}));$e.displayName="Switch";const Yt=({isOpen:t,onClose:a,onCreateRoom:r,currentUser:N})=>{const[w,R]=i.useState({name:"",description:"",entryFee:0,maxMembers:100,allowGifts:!0,allowCoinGifts:!0,moderationEnabled:!1,minAge:18,maxAge:100}),[I,j]=i.useState(!1),c=async d=>{if(d.preventDefault(),!w.name.trim()){alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó");return}j(!0);try{const T=await(await fetch("http://localhost:5000/api/chatroom",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:w.name,description:w.description,type:"private",ownerId:N._id,entryFee:parseInt(w.entryFee)||0,settings:{maxMembers:parseInt(w.maxMembers)||100,allowGifts:w.allowGifts,allowCoinGifts:w.allowCoinGifts,moderationEnabled:w.moderationEnabled},ageRestriction:{minAge:parseInt(w.minAge)||18,maxAge:parseInt(w.maxAge)||100}})})).json();T.success?(alert("‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!"),r(T.data),a(),R({name:"",description:"",entryFee:0,maxMembers:100,allowGifts:!0,allowCoinGifts:!0,moderationEnabled:!1,minAge:18,maxAge:100})):alert(T.message||"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó")}catch($){console.error("Error creating private room:",$),alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó")}finally{j(!1)}},h=(d,$)=>{R(T=>({...T,[d]:$}))};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß"}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(oe,{className:"h-6 w-6"})})]}),e.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx(C,{htmlFor:"name",children:"‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó *"}),e.jsx(z,{id:"name",type:"text",value:w.name,onChange:d=>h("name",d.target.value),placeholder:"‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó",required:!0})]}),e.jsxs("div",{children:[e.jsx(C,{htmlFor:"description",children:"‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢"}),e.jsx(vs,{id:"description",value:w.description,onChange:d=>h("description",d.target.value),placeholder:"‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó‡∏ô‡∏µ‡πâ",rows:3})]}),e.jsxs("div",{children:[e.jsx(C,{htmlFor:"entryFee",children:"‡∏Ñ‡πà‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤ (‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç)"}),e.jsx(z,{id:"entryFee",type:"number",min:"0",value:w.entryFee,onChange:d=>h("entryFee",d.target.value),placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx(C,{htmlFor:"maxMembers",children:"‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î"}),e.jsx(z,{id:"maxMembers",type:"number",min:"1",max:"1000",value:w.maxMembers,onChange:d=>h("maxMembers",d.target.value),placeholder:"100"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(C,{htmlFor:"minAge",children:"‡∏≠‡∏≤‡∏¢‡∏∏‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥"}),e.jsx(z,{id:"minAge",type:"number",min:"13",max:"100",value:w.minAge,onChange:d=>h("minAge",d.target.value),placeholder:"18"})]}),e.jsxs("div",{children:[e.jsx(C,{htmlFor:"maxAge",children:"‡∏≠‡∏≤‡∏¢‡∏∏‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î"}),e.jsx(z,{id:"maxAge",type:"number",min:"13",max:"100",value:w.maxAge,onChange:d=>h("maxAge",d.target.value),placeholder:"100"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(C,{htmlFor:"allowGifts",children:"‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç"}),e.jsx($e,{id:"allowGifts",checked:w.allowGifts,onCheckedChange:d=>h("allowGifts",d)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(C,{htmlFor:"allowCoinGifts",children:"‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡∏™‡πà‡∏á‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç"}),e.jsx($e,{id:"allowCoinGifts",checked:w.allowCoinGifts,onCheckedChange:d=>h("allowCoinGifts",d)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(C,{htmlFor:"moderationEnabled",children:"‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°"}),e.jsx($e,{id:"moderationEnabled",checked:w.moderationEnabled,onCheckedChange:d=>h("moderationEnabled",d)})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx(k,{type:"button",variant:"outline",onClick:a,className:"flex-1",disabled:I,children:"‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å"}),e.jsx(k,{type:"submit",className:"flex-1 bg-gradient-to-r from-pink-500 to-violet-500 hover:from-pink-600 hover:to-violet-600",disabled:I,children:I?"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á...":"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡πÅ‡∏ä‡∏ó"})]})]})]})}):null},Xt=({currentUser:t})=>{const[a,r]=i.useState([]),[N,w]=i.useState(!1),[R,I]=i.useState(!0),[j,c]=i.useState(1),[h,d]=i.useState(null),[$,T]=i.useState(!1),[S,O]=i.useState(!1),[D,q]=i.useState(0),[L,X]=i.useState(0),g={maxDistance:50,minAge:18,maxAge:60,gender:"all",lookingFor:"all",onlineOnly:!1,hasPhoto:!1,membershipTier:"all",interests:[],lifestyle:{smoking:"all",drinking:"all",exercise:"all"}},[u,P]=i.useState(g),[F,M]=i.useState(g);i.useEffect(()=>{const s=sessionStorage.getItem("token"),b=sessionStorage.getItem("user");console.log("Token exists:",!!s),console.log("User exists:",!!b),(!s||!b)&&console.error("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô")},[]);const B=()=>{let s=0;return u.maxDistance!==50&&s++,u.minAge!==18&&s++,u.maxAge!==60&&s++,u.gender!=="all"&&s++,u.lookingFor!=="all"&&s++,u.onlineOnly&&s++,u.hasPhoto&&s++,u.membershipTier!=="all"&&s++,u.interests.length>0&&s++,u.lifestyle.smoking!=="all"&&s++,u.lifestyle.drinking!=="all"&&s++,u.lifestyle.exercise!=="all"&&s++,s},o=()=>{console.log("üéØ Applying filters:",u),M({...u}),q(B()),O(!1),c(1),r([])},m=()=>{console.log("üîÑ Resetting filters"),P(g)},p=()=>{console.log("üéõÔ∏è Opening filter modal"),O(!0)};i.useEffect(()=>{h&&(c(1),r([]),f(1,!1))},[F]);const f=async(s=1,b=!1)=>{if(!h)return;const v=sessionStorage.getItem("token");if(!v){console.error("No authentication token found"),console.error("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô");return}b?T(!0):w(!0);try{const _=new URLSearchParams({page:s,limit:10,lat:h.lat,lng:h.lng,maxDistance:F.maxDistance,minAge:F.minAge,maxAge:F.maxAge});F.gender!=="all"&&_.append("gender",F.gender),F.lookingFor!=="all"&&_.append("lookingFor",F.lookingFor),F.onlineOnly&&_.append("onlineOnly","true"),F.hasPhoto&&_.append("hasPhoto","true"),F.membershipTier!=="all"&&_.append("membershipTier",F.membershipTier),F.interests.length>0&&_.append("interests",F.interests.join(",")),F.lifestyle.smoking!=="all"&&_.append("smoking",F.lifestyle.smoking),F.lifestyle.drinking!=="all"&&_.append("drinking",F.lifestyle.drinking),F.lifestyle.exercise!=="all"&&_.append("exercise",F.lifestyle.exercise);const Z=await fetch(`/api/matching/ai-matches?${_.toString()}`,{headers:{Authorization:`Bearer ${v}`}});if(console.log("Response status:",Z.status),!Z.ok){if(Z.status===401){console.error("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà");return}const J=await Z.text();throw console.error("Response error text:",J),new Error(`HTTP ${Z.status}: ${J}`)}const W=await Z.json();console.log("API Response:",W),console.log("Matches:",W.data?.matches),r(b?J=>[...J,...W.data?.matches||[]]:W.data?.matches||[]),I(W.data?.pagination?.hasMore!==!1),X(W.data?.pagination?.total||0)}catch(_){console.error("Error fetching matches:",_)}finally{w(!1),T(!1)}},A=()=>{c(1),r([]),I(!0),f(1,!1)},H=()=>{const s=j+1;c(s),f(s,!0)},Q=s=>{window.location.href=`/chat/${s}`},de=async s=>{const b=sessionStorage.getItem("token");if(!b){console.error("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô");return}try{const v=await fetch("/api/matching/like",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify({matchId:s})});if(v.ok)console.log("‡∏™‡πà‡∏á‡πÑ‡∏•‡∏Ñ‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!");else{const _=await v.json();console.error(_.message||"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡πÑ‡∏•‡∏Ñ‡πå")}}catch(v){console.error("Error liking user:",v)}};i.useEffect(()=>{console.log("üìç ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ç‡∏≠ GPS location..."),navigator.geolocation?navigator.geolocation.getCurrentPosition(s=>{const b={lat:s.coords.latitude,lng:s.coords.longitude};console.log("‚úÖ GPS location ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:",b),d(b),console.log("‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á GPS ‡πÅ‡∏•‡πâ‡∏ß")},s=>{console.error("‚ùå GPS location ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß:",s),d({lat:13.7563,lng:100.5018}),console.log("‡πÉ‡∏ä‡πâ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô: ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø (GPS ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô)")}):(console.log("‚ö†Ô∏è Browser ‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö geolocation"),d({lat:13.7563,lng:100.5018}),console.log("‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö GPS - ‡πÉ‡∏ä‡πâ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô: ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø"))},[]),i.useEffect(()=>{h&&f(1,!1)},[h]);const me=sessionStorage.getItem("token"),l=sessionStorage.getItem("user");return!me||!l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ue,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π AI Matches"}),e.jsx(k,{className:"mt-4 bg-pink-500 hover:bg-pink-600",onClick:()=>{window.location.href="/login"},children:"‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö"})]})}):h?e.jsxs("div",{className:"space-y-6",children:[e.jsx("style",{jsx:!0,children:`
        .slider-thumb::-webkit-slider-thumb {
          appearance: none;
          height: 24px;
          width: 24px;
          border-radius: 50%;
          background: linear-gradient(135deg, #ec4899, #8b5cf6);
          cursor: pointer;
          box-shadow: 0 4px 12px rgba(236, 72, 153, 0.4);
          border: 3px solid white;
          transition: all 0.2s ease;
        }
        
        .slider-thumb::-webkit-slider-thumb:hover {
          transform: scale(1.1);
          box-shadow: 0 6px 20px rgba(236, 72, 153, 0.6);
        }
        
        .slider-thumb::-moz-range-thumb {
          appearance: none;
          height: 24px;
          width: 24px;
          border-radius: 50%;
          background: linear-gradient(135deg, #ec4899, #8b5cf6);
          cursor: pointer;
          box-shadow: 0 4px 12px rgba(236, 72, 153, 0.4);
          border: 3px solid white;
        }
        
        .filter-card {
          background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(252,231,243,0.5));
          backdrop-filter: blur(10px);
          border: 1px solid rgba(236, 72, 153, 0.1);
        }
      `}),e.jsxs("div",{className:"bg-gradient-to-r from-pink-50 via-white to-violet-50 rounded-2xl p-6 shadow-sm border border-pink-100",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold bg-gradient-to-r from-pink-600 to-violet-600 bg-clip-text text-transparent flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-pink-500 to-violet-500 rounded-xl text-white shadow-lg",children:e.jsx(je,{className:"h-7 w-7"})}),"AI Smart Matching"]}),e.jsxs("p",{className:"text-gray-600 mt-2 flex items-center gap-2",children:[e.jsxs("span",{className:"bg-white px-3 py-1 rounded-full text-sm border border-pink-200",children:["üë• ",L||a.length," ‡∏Ñ‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö"]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${h?"bg-green-100 text-green-700 border border-green-200":"bg-yellow-100 text-yellow-700 border border-yellow-200"}`,children:h?"üìç GPS ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏•‡πâ‡∏ß":"üìç ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á..."})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(k,{variant:"outline",size:"lg",onClick:A,disabled:N,className:"bg-white border-pink-200 hover:bg-pink-50 hover:border-pink-300 transition-all duration-200 shadow-sm",children:[e.jsx(ie,{className:`h-5 w-5 mr-2 ${N?"animate-spin":""}`}),"‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä"]}),e.jsxs(k,{size:"lg",onClick:s=>{s.preventDefault(),s.stopPropagation(),console.log("üéõÔ∏è Filter button clicked!"),p()},type:"button",className:"relative bg-gradient-to-r from-pink-500 to-violet-500 hover:from-pink-600 hover:to-violet-600 text-white shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",style:{pointerEvents:"auto",zIndex:50,position:"relative"},children:[e.jsx(ts,{className:"h-5 w-5 mr-2"}),"‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á",D>0&&e.jsx("span",{className:"absolute -top-2 -right-2 h-6 w-6 bg-yellow-400 text-yellow-900 text-xs font-bold rounded-full flex items-center justify-center shadow-lg animate-pulse",children:D})]})]})]}),D>0&&e.jsx("div",{className:"mt-4 pt-4 border-t border-pink-200",children:e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ:"}),F.maxDistance!==50&&e.jsxs("span",{className:"bg-pink-100 text-pink-700 px-3 py-1 rounded-full text-sm flex items-center gap-1",children:[e.jsx(ve,{className:"h-3 w-3"}),"‚â§ ",F.maxDistance," ‡∏Å‡∏°."]}),(F.minAge!==18||F.maxAge!==60)&&e.jsxs("span",{className:"bg-violet-100 text-violet-700 px-3 py-1 rounded-full text-sm flex items-center gap-1",children:[e.jsx(ue,{className:"h-3 w-3"}),F.minAge,"-",F.maxAge," ‡∏õ‡∏µ"]}),F.gender!=="all"&&e.jsx("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm",children:F.gender==="male"?"üë® ‡∏ä‡∏≤‡∏¢":F.gender==="female"?"üë© ‡∏´‡∏ç‡∏¥‡∏á":"üåà ‡∏≠‡∏∑‡πà‡∏ô‡πÜ"}),F.onlineOnly&&e.jsxs("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô"]}),F.membershipTier!=="all"&&e.jsxs("span",{className:"bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm flex items-center gap-1",children:[e.jsx(pe,{className:"h-3 w-3"}),F.membershipTier.toUpperCase()]}),e.jsxs(k,{variant:"ghost",size:"sm",onClick:()=>{M(g),P(g),q(0)},className:"text-gray-500 hover:text-gray-700 px-2 py-1 h-auto",children:[e.jsx(oe,{className:"h-3 w-3 mr-1"}),"‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(ee,{children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"}),e.jsx("p",{className:"text-2xl font-bold text-pink-500",children:L||a.length})]}),e.jsx(ue,{className:"h-8 w-8 text-pink-500"})]})})}),e.jsx(ee,{children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå"}),e.jsx("p",{className:"text-2xl font-bold text-green-500",children:a.filter(s=>s.isActive).length})]}),e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})})]})})}),e.jsx(ee,{children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢"}),e.jsx("p",{className:"text-2xl font-bold text-violet-500",children:(()=>{const s=a.filter(b=>b.distance!==void 0&&b.distance>=0);return s.length>0?`${(s.reduce((b,v)=>b+v.distance,0)/s.length).toFixed(1)} ‡∏Å‡∏°.`:"0 ‡∏Å‡∏°."})()})]}),e.jsx(ve,{className:"h-8 w-8 text-violet-500"})]})})})]}),e.jsx("div",{className:"grid grid-cols-5 gap-4",children:a.map((s,b)=>e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100 hover:scale-105 cursor-pointer group",children:[e.jsxs("div",{className:"h-48 overflow-hidden relative",children:[e.jsx("img",{src:s.profileImages?.[0]||"https://via.placeholder.com/300x400?text=No+Image",alt:s.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:v=>{v.target.src="https://via.placeholder.com/300x400?text=No+Image"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs(re,{className:"bg-pink-500 text-white text-xs font-bold",children:[s.compatibilityScore||0,"%"]})}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsxs(re,{variant:"secondary",className:"text-xs",children:[e.jsx(ve,{className:"h-3 w-3 mr-1"}),s.distanceText||"‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏"]})}),e.jsx("div",{className:"absolute bottom-2 right-2",children:e.jsx("div",{className:`w-3 h-3 rounded-full border-2 border-white ${s.isActive?"bg-green-500":"bg-gray-400"}`,title:s.isActive?"‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå":"‡∏≠‡∏≠‡∏ü‡πÑ‡∏•‡∏ô‡πå"})}),e.jsx("div",{className:"absolute bottom-2 left-2",children:e.jsx(re,{className:`text-xs ${s.membershipTier==="diamond"?"bg-blue-500":s.membershipTier==="vip"?"bg-purple-500":s.membershipTier==="gold"?"bg-yellow-500":s.membershipTier==="silver"?"bg-gray-500":"bg-gray-400"} text-white`,children:s.membershipTier?.toUpperCase()||"MEMBER"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"font-semibold text-sm text-gray-800",children:[s.name||"‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠",", ",s.age||"N/A"]}),e.jsxs("div",{className:"flex items-center text-yellow-500",children:[e.jsx(pe,{className:"h-3 w-3 fill-current"}),e.jsx("span",{className:"text-xs ml-1",children:s.compatibilityScore||0})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`text-xs ${s.isActive?"text-green-600":"text-gray-500"}`,children:s.isActive?"üü¢ ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå":"‚ö´ ‡∏≠‡∏≠‡∏ü‡πÑ‡∏•‡∏ô‡πå"}),e.jsx("span",{className:"text-xs text-gray-500",children:s.lastActive?`‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: ${new Date(s.lastActive).toLocaleDateString("th-TH")}`:"‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏"})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:s.bio}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[s.interests&&s.interests.slice(0,2).map((v,_)=>e.jsx(re,{variant:"outline",className:"text-xs",children:typeof v=="string"?v:v.category||v.items||"Interest"},_)),s.interests&&s.interests.length>2&&e.jsxs(re,{variant:"outline",className:"text-xs",children:["+",s.interests.length-2]})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs(k,{size:"sm",variant:"outline",className:"flex-1 h-9 text-xs flex items-center justify-center",onClick:v=>{v.stopPropagation(),Q(s.id||s._id)},children:[e.jsx(ge,{className:"h-3 w-3 mr-1"}),"‡πÅ‡∏ä‡∏ó"]}),e.jsxs(k,{size:"sm",className:"flex-1 h-9 text-xs bg-gradient-to-r from-pink-500 to-violet-500 hover:from-pink-600 hover:to-violet-600 text-white flex items-center justify-center",onClick:v=>{v.stopPropagation(),de(s.id||s._id)},children:[e.jsx(he,{className:"h-3 w-3 mr-1"}),"‡πÑ‡∏•‡∏Ñ‡πå"]})]})]})]},s.id||s._id))}),N&&a.length===0&&e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(ne,{className:"h-8 w-8 animate-spin text-pink-500"})}),!N&&R&&a.length>0&&e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(k,{size:"lg",onClick:H,disabled:$,className:"bg-gradient-to-r from-pink-500 to-violet-500 hover:from-pink-600 hover:to-violet-600 text-white px-8 py-3",children:$?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-5 w-5 mr-2 animate-spin"}),"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"h-5 w-5 mr-2"}),"‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (",a.length,"/",L,")"]})})}),!R&&a.length>0&&e.jsx("div",{className:"text-center py-8",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-full",children:[e.jsx(ue,{className:"h-5 w-5 text-gray-600"}),e.jsxs("p",{className:"text-gray-600 font-medium",children:["‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏£‡∏ö ",a.length," ‡∏Ñ‡∏ô‡πÅ‡∏•‡πâ‡∏ß"]})]})}),!N&&!$&&a.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ue,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏≠‡∏∑‡πà‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"})]}),e.jsx(_e,{open:S,onOpenChange:s=>{console.log("üéõÔ∏è Dialog state changing:",s),O(s)},children:e.jsxs(ye,{className:"max-w-4xl max-h-[85vh] overflow-y-auto bg-gradient-to-br from-white via-pink-50 to-violet-50",children:[e.jsxs(we,{className:"pb-6 border-b border-pink-200",children:[e.jsxs(ke,{className:"flex items-center gap-3 text-xl font-semibold bg-gradient-to-r from-pink-600 to-violet-600 bg-clip-text text-transparent",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-pink-500 to-violet-500 rounded-lg text-white",children:e.jsx(ts,{className:"h-5 w-5"})}),"‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ñ‡∏π‡πà"]}),e.jsx(Ce,{className:"text-gray-600 mt-2",children:"‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ñ‡∏π‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Å‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î"}),B()>0&&e.jsxs("div",{className:"inline-flex items-center gap-2 bg-pink-100 border border-pink-300 rounded-full px-4 py-2 text-sm text-pink-700 font-medium",children:[e.jsx(St,{className:"h-4 w-4"}),"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á ",B()," ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-pink-100",children:[e.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800 mb-4",children:[e.jsx(ve,{className:"h-5 w-5 text-pink-500"}),"‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(C,{htmlFor:"distance",className:"text-sm font-medium text-gray-700",children:"‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î"}),e.jsxs("div",{className:"bg-gradient-to-r from-pink-500 to-violet-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:[u.maxDistance," ‡∏Å‡∏°."]})]}),e.jsx("input",{id:"distance",type:"range",min:"1",max:"100",value:u.maxDistance,onChange:s=>P({...u,maxDistance:parseInt(s.target.value)}),className:"w-full h-3 bg-pink-100 rounded-lg appearance-none cursor-pointer slider-thumb"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:"1 ‡∏Å‡∏°."}),e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:"100+ ‡∏Å‡∏°."})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-pink-100",children:[e.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800 mb-4",children:[e.jsx(ue,{className:"h-5 w-5 text-violet-500"}),"‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô"]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx(C,{className:"text-sm font-medium text-gray-700",children:"‡∏ä‡πà‡∏ß‡∏á‡∏≠‡∏≤‡∏¢‡∏∏‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"minAge",className:"text-xs text-gray-500",children:"‡∏≠‡∏≤‡∏¢‡∏∏‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î"}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{id:"minAge",type:"number",min:"18",max:"100",value:u.minAge,onChange:s=>P({...u,minAge:parseInt(s.target.value)}),className:"border-pink-200 focus:border-pink-400 focus:ring-pink-300"}),e.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-400",children:"‡∏õ‡∏µ"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"maxAge",className:"text-xs text-gray-500",children:"‡∏≠‡∏≤‡∏¢‡∏∏‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î"}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{id:"maxAge",type:"number",min:"18",max:"100",value:u.maxAge,onChange:s=>P({...u,maxAge:parseInt(s.target.value)}),className:"border-pink-200 focus:border-pink-400 focus:ring-pink-300"}),e.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-400",children:"‡∏õ‡∏µ"})]})]})]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx(C,{className:"text-sm font-medium text-gray-700",children:"‡πÄ‡∏û‡∏®‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏î‡∏π"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["all","male","female","other"].map(s=>e.jsx(k,{variant:u.gender===s?"default":"outline",size:"sm",onClick:()=>P({...u,gender:s}),className:`transition-all duration-200 ${u.gender===s?"bg-gradient-to-r from-pink-500 to-violet-500 text-white shadow-lg scale-105":"border-pink-200 hover:border-pink-300 hover:bg-pink-50"}`,children:s==="all"?"üåü ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î":s==="male"?"üë® ‡∏ä‡∏≤‡∏¢":s==="female"?"üë© ‡∏´‡∏ç‡∏¥‡∏á":"üåà ‡∏≠‡∏∑‡πà‡∏ô‡πÜ"},s))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(C,{className:"text-sm font-medium text-gray-700",children:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏°‡∏≠‡∏á‡∏´‡∏≤‡πÄ‡∏û‡∏®‡πÉ‡∏î"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["all","male","female","both"].map(s=>e.jsx(k,{variant:u.lookingFor===s?"default":"outline",size:"sm",onClick:()=>P({...u,lookingFor:s}),className:`transition-all duration-200 ${u.lookingFor===s?"bg-gradient-to-r from-violet-500 to-pink-500 text-white shadow-lg scale-105":"border-violet-200 hover:border-violet-300 hover:bg-violet-50"}`,children:s==="all"?"üåü ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î":s==="male"?"üë® ‡∏ä‡∏≤‡∏¢":s==="female"?"üë© ‡∏´‡∏ç‡∏¥‡∏á":"üíù ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á‡πÄ‡∏û‡∏®"},s))})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-violet-100",children:[e.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800 mb-4",children:[e.jsx(pe,{className:"h-5 w-5 text-yellow-500"}),"‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["all","member","silver","gold","vip","diamond"].map(s=>e.jsx(k,{variant:u.membershipTier===s?"default":"outline",size:"sm",onClick:()=>P({...u,membershipTier:s}),className:`transition-all duration-200 ${u.membershipTier===s?s==="diamond"?"bg-blue-500 text-white shadow-lg scale-105":s==="vip"?"bg-purple-500 text-white shadow-lg scale-105":s==="gold"?"bg-yellow-500 text-white shadow-lg scale-105":s==="silver"?"bg-gray-500 text-white shadow-lg scale-105":"bg-gradient-to-r from-pink-500 to-violet-500 text-white shadow-lg scale-105":`border-gray-200 hover:bg-gray-50 ${s==="diamond"?"hover:border-blue-300 hover:bg-blue-50":s==="vip"?"hover:border-purple-300 hover:bg-purple-50":s==="gold"?"hover:border-yellow-300 hover:bg-yellow-50":s==="silver"?"hover:border-gray-300":""}`}`,children:s==="all"?"üåü ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î":s==="member"?"üë§ ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å":s==="silver"?"ü•à Silver":s==="gold"?"ü•á Gold":s==="vip"?"üëë VIP":"üíé Diamond"},s))})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-green-100",children:[e.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800 mb-4",children:[e.jsx(je,{className:"h-5 w-5 text-green-500"}),"‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏¥‡πÄ‡∏®‡∏©"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border border-green-100 hover:bg-green-50 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:u.onlineOnly,onChange:s=>P({...u,onlineOnly:s.target.checked}),className:"w-5 h-5 text-green-600 border-green-300 rounded focus:ring-green-500"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border border-blue-100 hover:bg-blue-50 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:u.hasPhoto,onChange:s=>P({...u,hasPhoto:s.target.checked}),className:"w-5 h-5 text-blue-600 border-blue-300 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üì∏"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-purple-100",children:[e.jsxs("h3",{className:"flex items-center gap-2 text-lg font-semibold text-gray-800 mb-4",children:[e.jsx(he,{className:"h-5 w-5 text-purple-500"}),"‡πÑ‡∏•‡∏ü‡πå‡∏™‡πÑ‡∏ï‡∏•‡πå"]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsx(C,{className:"text-sm text-gray-600 flex items-center gap-2",children:"üö¨ ‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["all","no","yes","sometimes"].map(s=>e.jsx(k,{variant:u.lifestyle.smoking===s?"default":"outline",size:"sm",onClick:()=>P({...u,lifestyle:{...u.lifestyle,smoking:s}}),className:`text-xs transition-all duration-200 ${u.lifestyle.smoking===s?"bg-red-500 text-white shadow-lg scale-105":"border-red-200 hover:border-red-300 hover:bg-red-50"}`,children:s==="all"?"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î":s==="no"?"üö≠ ‡πÑ‡∏°‡πà‡∏™‡∏π‡∏ö":s==="yes"?"üö¨ ‡∏™‡∏π‡∏ö":"üí® ‡∏ö‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á"},s))})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsx(C,{className:"text-sm text-gray-600 flex items-center gap-2",children:"üç∑ ‡∏Å‡∏≤‡∏£‡∏î‡∏∑‡πà‡∏°‡πÄ‡∏´‡∏•‡πâ‡∏≤"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["all","no","yes","social"].map(s=>e.jsx(k,{variant:u.lifestyle.drinking===s?"default":"outline",size:"sm",onClick:()=>P({...u,lifestyle:{...u.lifestyle,drinking:s}}),className:`text-xs transition-all duration-200 ${u.lifestyle.drinking===s?"bg-amber-500 text-white shadow-lg scale-105":"border-amber-200 hover:border-amber-300 hover:bg-amber-50"}`,children:s==="all"?"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î":s==="no"?"üö´ ‡πÑ‡∏°‡πà‡∏î‡∏∑‡πà‡∏°":s==="yes"?"üç∑ ‡∏î‡∏∑‡πà‡∏°":"üéâ ‡∏á‡∏≤‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏°"},s))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(C,{className:"text-sm text-gray-600 flex items-center gap-2",children:"üí™ ‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["all","regularly","sometimes","never"].map(s=>e.jsx(k,{variant:u.lifestyle.exercise===s?"default":"outline",size:"sm",onClick:()=>P({...u,lifestyle:{...u.lifestyle,exercise:s}}),className:`text-xs transition-all duration-200 ${u.lifestyle.exercise===s?"bg-green-500 text-white shadow-lg scale-105":"border-green-200 hover:border-green-300 hover:bg-green-50"}`,children:s==="all"?"‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î":s==="regularly"?"üèÉ ‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠":s==="sometimes"?"üö∂ ‡∏ö‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á":"üò¥ ‡πÑ‡∏°‡πà‡∏≠‡∏≠‡∏Å"},s))})]})]})]})]}),e.jsxs("div",{className:"flex gap-4 mt-8 pt-6 border-t border-pink-200",children:[e.jsxs(k,{variant:"outline",onClick:m,className:"flex-1 py-3 border-gray-300 hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",size:"lg",children:[e.jsx(oe,{className:"h-5 w-5 mr-2"}),"‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"]}),e.jsxs(k,{onClick:o,size:"lg",className:"flex-1 py-3 bg-gradient-to-r from-pink-500 via-purple-500 to-violet-500 hover:from-pink-600 hover:via-purple-600 hover:to-violet-600 text-white shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[e.jsx(Fe,{className:"h-5 w-5 mr-2"}),"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÄ‡∏•‡∏¢ (",L||0," ‡∏Ñ‡∏ô)"]})]})]})})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ne,{className:"h-8 w-8 animate-spin text-pink-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏∂‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô..."})]})})};export{Ht as A,k as B,Jt as C,_e as D,Wt as L,Gt as M,qt as P,Zt as R,Ot as T,Qt as U,Bt as V,Ye as a,Vt as b,Qe as c,Je as d,Ze as e,He as f,Re as g,te as h,ae as i,Xt as j,Ut as k,ye as l,ke as m,Ce as n,Yt as o,Rt as u};
