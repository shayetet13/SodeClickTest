# Admin Dashboard - คู่มือการใช้งาน

## การติดตั้งและตั้งค่า

### 1. สร้าง Admin User

รันคำสั่งต่อไปนี้เพื่อสร้าง admin user:

```bash
cd backend
npm run create-admin
```

หรือรันโดยตรง:

```bash
cd backend
node scripts/createAdmin.js
```

ข้อมูล Admin ที่สร้างขึ้น:
- **Username**: admin
- **Password**: root77
- **Role**: superadmin
- **Email**: admin@loveapp.com

### 2. เข้าสู่ระบบ Admin

1. เข้าสู่ระบบด้วย admin account
2. ปุ่ม "Admin Dashboard" จะปรากฏใน header สำหรับ admin และ superadmin
3. คลิกปุ่มเพื่อเข้าถึง Admin Dashboard

## ฟีเจอร์ Admin Dashboard

### 1. ภาพรวม (Overview)
- **สถิติผู้ใช้**: แสดงจำนวนผู้ใช้ทั้งหมด, ผู้ใช้ที่ใช้งาน, ผู้ใช้ที่ถูกแบน, ผู้ใช้ที่ยืนยันแล้ว
- **ผู้ใช้ล่าสุด**: แสดงรายชื่อผู้ใช้ที่สมัครล่าสุด 10 คน

### 2. จัดการผู้ใช้ (User Management)

#### การค้นหาและกรอง
- **ค้นหา**: ค้นหาตามชื่อ, อีเมล, username
- **กรองตามบทบาท**: user, admin, superadmin
- **กรองตามสถานะ**: active, banned, inactive

#### การจัดการผู้ใช้
- **เปลี่ยนบทบาท**: user, admin, superadmin
- **เปลี่ยนระดับสมาชิก**: member, silver, gold, vip, vip1, vip2, diamond, platinum
- **แก้ไขเหรียญ**: เพิ่ม/ลดจำนวนเหรียญ
- **แก้ไขคะแนนโหวต**: เพิ่ม/ลดคะแนนโหวต
- **เปิด/ปิดใช้งาน**: เปิดหรือปิดการใช้งานผู้ใช้
- **แบน/ยกเลิกการแบน**: แบนผู้ใช้หรือยกเลิกการแบน

### 3. สิทธิ์ Admin

#### Admin (admin)
- ดูสถิติทั้งหมด
- จัดการผู้ใช้ (แก้ไข, แบน, เปิด/ปิดใช้งาน)
- ไม่สามารถลบผู้ใช้ได้

#### Super Admin (superadmin)
- สิทธิ์ทั้งหมดของ admin
- สามารถลบผู้ใช้ได้
- สามารถสร้าง admin คนอื่นได้

## การใช้งาน

### การเข้าถึง Admin Dashboard

1. เข้าสู่ระบบด้วย admin account
2. คลิกปุ่ม "Admin Dashboard" ใน header
3. ระบบจะแสดง Admin Dashboard ในหน้าใหม่

### การจัดการผู้ใช้

1. ไปที่แท็บ "จัดการผู้ใช้"
2. ใช้ตัวกรองเพื่อค้นหาผู้ใช้ที่ต้องการ
3. คลิกปุ่ม "จัดการ" เพื่อแก้ไขข้อมูลผู้ใช้
4. ทำการเปลี่ยนแปลงที่ต้องการ
5. ระบบจะอัปเดตข้อมูลทันที

### การแบนผู้ใช้

1. คลิกปุ่ม "จัดการ" ของผู้ใช้ที่ต้องการแบน
2. คลิกปุ่ม "แบน"
3. ระบบจะแบนผู้ใช้ทันที
4. ผู้ใช้ที่ถูกแบนจะไม่สามารถเข้าสู่ระบบได้

## ข้อควรระวัง

1. **การลบผู้ใช้**: การลบผู้ใช้จะลบข้อมูลทั้งหมดและไม่สามารถกู้คืนได้
2. **การแบนผู้ใช้**: ผู้ใช้ที่ถูกแบนจะไม่สามารถเข้าสู่ระบบได้จนกว่าจะยกเลิกการแบน
3. **การเปลี่ยนบทบาท**: ระวังการให้สิทธิ์ admin กับผู้ใช้ที่ไม่เหมาะสม
4. **การแก้ไขเหรียญ**: การแก้ไขเหรียญอาจส่งผลต่อระบบเศรษฐกิจของแอป

## การแก้ไขปัญหา

### ปัญหาที่พบบ่อย

1. **ไม่เห็นปุ่ม Admin Dashboard**
   - ตรวจสอบว่า login ด้วย admin account
   - ตรวจสอบว่า user มี role เป็น admin หรือ superadmin

2. **ไม่สามารถเข้าถึง Admin Dashboard**
   - ตรวจสอบ token ว่ายังไม่หมดอายุ
   - ลอง logout และ login ใหม่

3. **ไม่สามารถแก้ไขข้อมูลผู้ใช้**
   - ตรวจสอบสิทธิ์ของ admin
   - ตรวจสอบการเชื่อมต่อ API

### การติดต่อ Support

หากพบปัญหาที่ไม่สามารถแก้ไขได้ กรุณาติดต่อทีมพัฒนา
